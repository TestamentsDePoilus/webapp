{"version":3,"sources":["utils/functions.js","components/admin/Login.js","components/admin/Confirmation.js","components/admin/Register.js","components/admin/LogRegister.js","components/NavBar.js","components/search/ContributorFilters.js","components/search/InstitutionFilter.js","components/search/GeoMap_bis.js","utils/ImageIIIF.js","components/WillDisplay.js","components/WillCompare.js","components/search/ResultWills.js","components/search/TextSearch.js","components/search/Results.js","components/search/DateFilter.js","components/search/DataSearch.js","components/Search.js","components/About.js","components/News.js","components/Wills.js","components/cms/Menu.js","components/admin/Profile.js","components/Testators.js","components/Places.js","components/Will.js","components/Home.js","components/Articles.js","components/cms/NewPost.js","components/cms/EditPost.js","components/cms/Manage.js","components/cms/MyShoppingCart.js","components/admin/MySpace.js","components/Compare.js","App.js","serviceWorker.js","index.js"],"names":["getUserToken","token","sessionStorage","usertoken","jwt_decode","getParamConfig","param","config","getHttpRequest","url","type","arguments","length","undefined","body","async","req","XMLHttpRequest","open","setRequestHeader","send","status","responseText","getTotalHits","host","JSON","parse","hits","total","getHitsFromQuery","query","createStyled","styles","options","Styled","props","children","Object","objectWithoutProperties","propTypes","PropTypes","func","isRequired","classes","object","withStyles","createElementFromHTML","htmlString","div","document","createElement","innerHTML","trim","firstChild","register","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","newUser","res","wrap","_context","prev","next","axios","post","email","user_name","password","sent","abrupt","data","t0","console","log","stop","_x","apply","this","login","_ref2","_callee2","user","_context2","_x2","publish","_ref3","_callee3","item","_context3","title","summary","detail","author","_x3","removePost","_ref4","_callee4","_context4","ids","_x4","updatePost","_ref5","_callee5","_context5","id","_x5","updateMyListWills","_ref6","_callee6","_context6","myWills","_x6","theme","paper","margin","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","width","marginTop","submit","textField","errorText","color","fontSize","fontFamily","join","Login","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleClickShowPassword","setState","showPassword","state","error","mailError","passError","onChange","bind","assertThisInitialized","onSubmit","e","_this$setState","defineProperty","target","name","value","_this2","preventDefault","then","setItem","myToken","location","reload","err","_this3","react_default","Login_Styled","Container","maxWidth","className","Typography","noValidate","TextField","variant","required","fullWidth","label","autoComplete","autoFocus","InputProps","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","Visibility","VisibilityOff","Button","Link","href","Component","Confirmation","mess","showIcon","Register","passConfirme","isError","handleClose","window","replace","Register_Styled","component","Grid","container","justify","xs","Dialog","aria-labelledby","aria-describedby","onClose","DialogTitle","closeButton","Close_default","DialogContent","admin_Confirmation","TabPanel","index","other","assign","role","hidden","concat","Box","p","a11yProps","aria-controls","useStyles","makeStyles","root","background","marginLeft","marginRight","marginBottom","primary","LogRegister","useTheme","_React$useState","React","useState","_React$useState2","slicedToArray","setValue","Avatar","LockOutlined","AppBar","Tabs","event","newValue","indicatorColor","textColor","Tab","react_swipeable_views_lib_default","axis","direction","onChangeIndex","dir","admin_Register","admin_Login","nav_root","height","flexGrow","link","textTransform","paddingLeft","fontWeight","&:hover, &:focus","&:active","activedLink","menu","paddingTop","typography","logIn","right","logTitle","top","grey","NavBar","selectedId","anchorEl","anchorElExplor","handleListItemClick","tabLinks","handleLoginClick","handleLogoutClick","handleMenuClick","handleMenuClose","handleExplorClick","handleExplorClose","removeItem","currentTarget","findLink","find","includes","userLogin","NavBar_Styled","Fab","AccountCircleOutlined_default","userLogout","classNames","Breadcrumbs","RouterLink","to","ExpandMore_default","icon","Menu_Menu","keepMounted","Boolean","MenuItem","withRouter","ContributorFilters","index_es","react","and","componentId","dataField","nestedField","sortBy","queryFormat","URLParams","showCheckbox","showSearch","innerClass","list","placeholder","filterLabel","InstitutionFilters","showCount","GeoMap","map","markers","L","markerClusterGroup","curData","clearLayers","forEach","point","i","marker","bindPopup","addLayer","ReactDOM","findDOMNode","setView","tileLayer","attribution","addTo","markerCG","will_place","will_name","push","nextProps","prevState","ImageIIF","viewer","close","tileSources","crossOriginPolicy","ajaxWithCredentials","OpenSeaDragon","prefixUrl","style","padding","textAlign","fontStyle","linkPage","&:hover","selectedLink","createPage","page","idx","listTypes","transcription","edition","WillDisplay_Styled","Paper","dangerouslySetInnerHTML","__html","WillDisplay","cur_page","handlePageClick","handleExportClick","getAttribute","cur_idx","findIndex","isEqual","lbCollection","getElementsByClassName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","before","ReactDOMServer","renderToStaticMarkup","SubdirectoryArrowLeftOutlined_default","titleAccess","cursor","return","spaceVerCollection","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","append","FormatLineSpacingOutlined_default","spaceHorCollection","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","SpaceBarOutlined_default","lastIndexOf","history","replaceState","substring","getElementById","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_this4","output","key","SaveAltOutlined_default","toUpperCase","slice","contributor","createPageMenu","sm","ImageIIIF_ImageIIF","WillCompare","idx_","totalItem","WillCompare_Styled","hit","pages","handleClick","_loop","parseInt","typoName","typoText","willTitle","borderColor","border","chip","chipRoot","justifyContent","flexWrap","info","iconVariant","opacity","message","listMenu","envelope","codicil","ResultWills","openDialog","openAlert","willPage","styleTitle","count","chipData","displayType","userToken","displayMore","handleClickWill","handleDelete","handleCompareClick","handleOpenMenu","handleAddShoppingWill","handleremoveShoppingWill","url_param","myWills_","split","newItem","filter","will","styleTitle_","count_","chipData_","chipToDelete","url_ids","username","forename","Chip","onDelete","render","addEventListener","_this5","results","j","descriptions","inner_hits","hits_size","will_pages","sort","b","_source","localeCompare","div_id_page","Fragment","div_text_page","highlight","keys","k","ResultWills_Styled","Divider","light","isAdded","el","ListItem","ListItemAvatar","alt","src","ListItemText","Tooltip","interactive","PlaylistAddCheckOutlined_default","PlaylistAddOutlined_default","placement","AddShoppingCartOutlined_default","RemoveShoppingCartOutlined_default","DialogActions","WillDisplay_WillDisplay","components_WillCompare","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","SnackbarContent","Info_default","action","inputSearch","borderRadius","typoTitle","select","customQuery","match_all","field_value","field_name","fied_option","will_pages.edition_text","will_pages.transcription_text","nested","path","simple_query_string","fields","order","pre_tags","post_tags","boundary_scanner_locale","number_of_fragments","fragment_size","TextSearch","handleChange","page_name","TextSearch_Styled","Select","dataSearch","iconPosition","autosuggest","onValueChange","onValueSelected","cause","source","onQueryChange","prevQuery","nextQuery","searchOperators","fuzziness","input","bootstrapRoot","bottom","boxShadow","divider","onscroll","scrollTop","documentElement","Results","topFunction","curField","curOrder","search_TextSearch","clearAllLabel","stream","pagination","size","showResultStats","infiniteScroll","loader","renderResultStats","stats","numberOfResults","loading","ResultWills_ResultWills","CompareOutlined_default","defaultQuery","GeoMap_bis_GeoMap","Results_Styled","KeyboardArrowUpOutlined_default","field","DateFilter","start","end","initialMonth","Date","CustumerDataSearch","ExpansionPanel","ExpansionPanelSummary","expandIcon","showFilter","ExpansionPanelDetails","Search","app","TrendingUpOutlined_default","TrendingDownOutlined_default","DataSearch","search_DateFilter","InstitutionFilter","search_ContributorFilters","search_Results","ReactiveList","ResultListWrapper","foot","head","verticalAlign","About","totalHits","newData","stringify","term","created","id_query","_id","curItem","prevLink","referrer","currLink","navBar","elevation","separator","NavigateNext_default","menuAbout","About_Styled","MenuList","date","toLocaleDateString","toLocaleTimeString","News","lastNews","handleMoreClick","itemFind","menuNews","News_Styled","paginationAt","showEndPage","News_ResultListWrapper","More_default","explorMenu","ExplorMenu","setSelectId","Wills_Styled","will_id","Wills","Wills_ResultListWrapper","Menu","myData","Menu_Styled","isRoot","profile","Profile","first_name","last_name","Profile_Styled","cms_Menu","List","Testators","Testators_Styled","Places","Places_Styled","Will_Styled","_React$createElement","Will","query_term","renderFunc","url_query","will_link","text","Home","Home_Styled","Articles","lastArticles","navLink","menuArticles","Articles_Styled","Articles_ResultListWrapper","demoEditor","header","img","uploadImageCallBack","file","Promise","resolve","reject","xhr","FormData","response","NewPost","handleTypeChange","onEditorStateResumeChange","editorState","editorStateResume","onEditorStateDetailChange","editorStateDetail","handleFileChange","files","reader","FileReader","in_file","image_name","onloadend","in_image","result","url_image","out_image","fileInput","readAsDataURL","handleChangeText","detail_raw","convertToRaw","getCurrentContent","resume_raw","found_detail","found_resume","draftToHtml","handleAlertClose","EditorState","createEmpty","src_img","NewPost_Styled","backButton","NativeSelect","accept","htmlFor","button","CloudUpload_default","rightIcon","react_draft_wysiwyg","wrapperClassName","demoWrapper","editorClassName","onEditorStateChange","toolbar","image","uploadCallback","present","mandatory","alertMessage","EditPost","editStateSummary","editStateDetail","hasOwnProperty","content_detail","ContentState","createFromBlockArray","convertFromHTML","content_summary","createWithContent","EditPost_Styled","defaultEditorState","desc","orderBy","headCells","numeric","disablePadding","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","onRequestSort","TableHead","TableRow","TableCell","Checkbox","indeterminate","checked","inputProps","headCell","align","sortDirection","TableSortLabel","active","property","visuallyHidden","Styled_1","paddingRight","lighten","dark","flex","EnhancedTableToolbar","selectComponent","addButton","deleteButton","Toolbar","clsx","AlertMessage","Styled_2","table","minWidth","tableWrapper","overflowX","clip","overflow","backBt","addBt","typeSelect","Manage","handleRequestSort","isDesc","handleSelectAllClick","newSelecteds","selectData","n","selected","selectedIndex","indexOf","newSelected","handleChangePage","newPage","handleChangeRowsPerPage","rowsPerPage","newSelectData","handleAddNewPost","choice","handleBackToManager","handleRemovePost","handleDialogClose","handleDialogConfirm","handleUpdatePost","editData","getHits","emptyRows","Math","min","PostAdd_default","startIcon","ArrowBack_default","Delete_default","defaultView","Manage_EnhancedTableToolbar","Table","TableBody","array","cmp","stabilizedThis","stableSort","row","isItemSelected","labelId","hover","aria-checked","tabIndex","scope","Edit_default","colSpan","TablePagination","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","labelRowsPerPage","DialogContentText","Manage_AlertMessage","curView","NewPost_NewPost","EditPost_EditPost","actionButton","MyShoppingCart_Styled_1","MyShoppingCart","handleRemoveWill","handleDisplayWill","handleCompareWill","values","MyShoppingCart_Styled_2","handleExportWill","MyShoppingCart_EnhancedTableToolbar","MyShoppingCart_EnhancedTableHead","VisibilityOutlined_default","MyShoppingCart_AlertMessage","MySpace","admin_Profile","Compare","ids_term","ids_term_","dataFilter","App","react_router_dom","basename","components_NavBar","react_router","exact","hostname","match","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6b0fb02b.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\n\n// Get user token\nexport function getUserToken() {\n  const token = sessionStorage.usertoken;\n  if (token) {\n    const decoded = jwt_decode(token);\n    return decoded;\n  } else {\n    return null;\n  }\n}\n\n// Upload image file\nexport function uploadImageCallBack(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"https://api.imgur.com/3/image\");\n    xhr.setRequestHeader(\"Authorization\", \"Client-ID XXXXX\");\n    const data = new FormData();\n    data.append(\"image\", file);\n    xhr.send(data);\n    xhr.addEventListener(\"load\", () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener(\"error\", () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\n\n// Get param config\nexport function getParamConfig(param) {\n  let config = {};\n  config[\"es_host\"] = \"http://127.0.0.1:9200\"; //http://patrimeph.ensea.fr/es700\n  config[\"es_index_wills\"] = \"tdp_wills\";\n  config[\"es_index_cms\"] = \"tdp_cms\";\n  config[\"es_index_user\"] = \"tdp_users\";\n  config[\"web_url\"] = \"http://127.0.0.1/testaments-de-poilus\"; //\"http://patrimeph.ensea.fr/testaments-de-poilus\";\n  config[\"web_host\"] = \"http://127.0.0.1/testaments-de-poilus\";\n  return config[param];\n}\n// Simple query search to send to elasticsearch\nexport function queryBuilderFunc(queryString) {\n  let terms = queryString.split(\"/\");\n\n  if (terms.length > 1) {\n    queryString = terms[0] + \"+(\" + terms[1] + \")|\" + terms[0];\n  }\n  return {\n    simple_query_string: {\n      query: queryString,\n      default_operator: \"or\"\n    }\n  };\n}\n\n// Get response from url\nexport function getHttpRequest(url, type = \"POST\", body = \"\", async = false) {\n  let req = new XMLHttpRequest();\n  req.open(type, url, async);\n  req.setRequestHeader(\"Content-type\", \"application/json\");\n  req.send(body);\n  if (req.status === 200) {\n    return req.responseText;\n  } else {\n    return null;\n  }\n}\n\nfunction removeDups(names) {\n  let unique = {};\n  names.forEach(function(i) {\n    if (!unique[i]) {\n      unique[i] = true;\n    }\n  });\n  return Object.keys(unique);\n}\n\n// Get total hits from host\nexport function getTotalHits(host) {\n  const totalHits = JSON.parse(\n    getHttpRequest(host + \"/_search?filter_path=hits.total\")\n  ).hits.total;\n  return totalHits;\n}\n\n// Get total hits from host\nexport function getHits(host, size = null) {\n  const totalHits = size ? size : getTotalHits(host);\n  const total = typeof totalHits === \"object\" ? totalHits.value : totalHits;\n  const hits = JSON.parse(getHttpRequest(host + \"/_search?size=\" + total)).hits;\n  return hits.hits;\n}\n\n// Get total hits from host\nexport function getHitsFromQuery(host, query) {\n  const hits = JSON.parse(\n    getHttpRequest(host + \"/_search?pretty\", \"POST\", query)\n  ).hits;\n  return hits.hits;\n}\n\n// Get child from parent ES\nexport function getChilds(host, id) {\n  var query = {\n    query: {\n      bool: {\n        must: [\n          {\n            has_parent: {\n              parent_type: \"question\",\n              query: {\n                term: {\n                  _id: id\n                }\n              }\n            }\n          },\n          { term: { texta: \"answer\" } }\n        ]\n      }\n    }\n  };\n  var url = host + \"/_search\";\n  //var query = host+\"/_search?pretty \";\n\n  const hits = JSON.parse(getHttpRequest(url, JSON.stringify(query))).hits;\n  return hits;\n}\n// Get suggestions\nexport function getSuggestions(host, field) {\n  // Get total hits from host\n  const totalHits = getTotalHits(host);\n  // Get hashtags from ES\n  const hashtags = JSON.parse(\n    getHttpRequest(\n      host + \"/_search?filter_path=\" + field + \"&size=\" + totalHits\n    )\n  ).hits.hits.map(item => item._source.entities_hashtags_text);\n  let array = [];\n  hashtags.forEach(function(i) {\n    if (i.length > 0) {\n      i.forEach(function(j) {\n        array.push(j);\n      });\n    }\n  });\n  return removeDups(array);\n}\n\n// Get suggestions\nexport function getHitByID(host, id) {\n  // Get hashtags from ES\n  const results = JSON.parse(getHttpRequest(host + \"/_search?q=\", \"GET\"));\n  return results;\n}\n\nexport function addItem(id, removeClick, src, label, childItemsList) {\n  var childImgValue = document.createElement(\"div\");\n  childImgValue.className = \"sk-filter-group-items__value\";\n  childImgValue.setAttribute(\"data-key\", id);\n  var value = document.createElement(\"img\");\n  value.setAttribute(\"src\", src);\n  let style = \"max-width: 45px; max-height: 45px; \";\n  if (label === 1) {\n    style += \"border: 1px solid #C6FF00;\";\n  } else {\n    style += \"border: 1px solid #FF3D00;\";\n  }\n  value.setAttribute(\"style\", style);\n  value.setAttribute(\"data-key\", id);\n  value.addEventListener(\"click\", removeClick, false);\n  childImgValue.appendChild(value);\n  childItemsList.appendChild(childImgValue);\n}\n\nexport function removeItem(id, childItemsList) {\n  var children = childItemsList.childNodes;\n  for (var i = 0; i < children.length; i++) {\n    if (children[i].getAttribute(\"data-key\") === id) {\n      childItemsList.removeChild(children[i]);\n      break;\n    }\n  }\n}\n\n// Create style function for material-ui\nexport function createStyled(styles, options) {\n  function Styled(props) {\n    const { children, ...other } = props;\n    return children(other);\n  }\n  Styled.propTypes = {\n    children: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n  };\n  return withStyles(styles, options)(Styled);\n}\n// Create element from html\nexport function createElementFromHTML(htmlString) {\n  var div = document.createElement(\"div\");\n  div.innerHTML = htmlString.trim();\n  // Change this to div.childNodes to support multiple top-level nodes\n  return div.firstChild;\n}\n\n// filter key obj\nexport function filterObj(obj, key) {\n  var result = {};\n  for (let k in obj) {\n    if (k !== key) {\n      result[k] = obj[k];\n    }\n  }\n  return result;\n}\n\nexport function htmlSubstring(s, n) {\n  var m,\n    r = /<([^>\\s]*)[^>]*>/g,\n    stack = [],\n    lasti = 0,\n    result = \"\";\n\n  //for each tag, while we don't have enough characters\n  while ((m = r.exec(s)) && n) {\n    //get the text substring between the last tag and this one\n    var temp = s.substring(lasti, m.index).substr(0, n);\n    //append to the result and count the number of characters added\n    result += temp;\n    n -= temp.length;\n    lasti = r.lastIndex;\n\n    if (n) {\n      result += m[0];\n      if (m[1].indexOf(\"/\") === 0) {\n        //if this is a closing tag, than pop the stack (does not account for bad html)\n        stack.pop();\n      } else if (m[1].lastIndexOf(\"/\") !== m[1].length - 1) {\n        //if this is not a self closing tag than push it in the stack\n        stack.push(m[1]);\n      }\n    }\n  }\n\n  //add the remainder of the string, if needed (there are no more tags in here)\n  result += s.substr(lasti, n);\n\n  //fix the unclosed tags\n  while (stack.length) {\n    result += \"</\" + stack.pop() + \">\";\n  }\n\n  return result;\n}\n\n// Register post function\nexport const register = async newUser => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/users/register\", {\n      email: newUser.email,\n      user_name: newUser.user_name,\n      password: newUser.password\n    });\n    return res.data;\n  } catch (err) {\n    console.log(\"error rester :\", err);\n    return err;\n  }\n};\n\n// login post function\nexport const login = async user => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/users/login\", {\n      email: user.email,\n      password: user.password\n    });\n\n    return res.data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// publish post function\nexport const publish = async item => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/cms/publish\", {\n      title: item.title,\n      summary: item.summary,\n      detail: item.detail,\n      type: item.type,\n      author: item.author\n    });\n    return res.data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// publish post function\nexport const removePost = async item => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/cms/removePost\", {\n      ids: item\n    });\n    return res.data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// update post function\nexport const updatePost = async item => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/cms/updatePost\", {\n      id: item.id,\n      title: item.title,\n      summary: item.summary,\n      detail: item.detail,\n      type: item.type,\n      author: item.author\n    });\n    console.log(\"res :\", res);\n    return res.data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// update post function\nexport const updateMyListWills = async item => {\n  try {\n    const host = getParamConfig(\"web_host\");\n    const res = await axios.post(host + \"/users/updateMyListWills\", {\n      email: item.email,\n      myWills: item.myWills\n    });\n    return res.data;\n  } catch (err) {\n    console.log(\"err dans catch :\", err);\n    return err;\n  }\n};\n","import React, { Component } from \"react\";\nimport {\n  Container,\n  TextField,\n  Typography,\n  Button,\n  Link,\n  InputAdornment,\n  IconButton\n} from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { createStyled, login, getUserToken } from \"../../utils/functions\";\n\nconst Styled = createStyled(theme => ({\n  paper: {\n    margin: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  textField: {\n    margin: theme.spacing(1, 0, 1)\n  },\n  errorText: {\n    color: \"#ab003c\",\n    fontSize: 14,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  }\n}));\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      error: \"\",\n      showPassword: false,\n      mailError: false,\n      passError: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleClickShowPassword = this.handleClickShowPassword.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value,\n      mailError: false,\n      passError: false\n    });\n  }\n\n  handleClickShowPassword = () => {\n    this.setState({\n      showPassword: !this.state.showPassword\n    });\n  };\n\n  onSubmit(e) {\n    e.preventDefault();\n    if (this.state.email && this.state.password) {\n      const user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      login(user).then(res => {\n        if (res.status === 200) {\n          sessionStorage.setItem(\"usertoken\", res.res);\n          const myToken = getUserToken();\n          sessionStorage.setItem(\"myWills\", myToken.myWills);\n          document.location.reload(true);\n        } else {\n          const err = res.error ? res.error : \"Connexion au serveur a échoué !\";\n\n          this.setState({\n            error: err\n          });\n        }\n      });\n    } else if (!this.state.email && !this.state.password) {\n      this.setState({\n        error: \"Saisissez l'adresse e-mail et le mot de passe !\",\n        mailError: true,\n        passError: true\n      });\n    } else if (!this.state.email) {\n      this.setState({\n        error: \"Saisissez l'adresse e-mail !\",\n        mailError: true,\n        passError: false\n      });\n    } else {\n      this.setState({\n        error: \"Saisissez  le mot de passe !\",\n        mailError: false,\n        passError: true\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <Container maxWidth=\"xs\">\n            <div className={classes.paper}>\n              {this.state.error !== \"\" ? (\n                <Typography className={classes.errorText}>\n                  Erreur : {this.state.error}\n                </Typography>\n              ) : (\n                \"\"\n              )}\n              <form\n                className={classes.form}\n                noValidate\n                onSubmit={this.onSubmit}\n              >\n                <TextField\n                  id=\"email\"\n                  variant=\"outlined\"\n                  className={classes.textField}\n                  required\n                  fullWidth\n                  label=\"Adresse email\"\n                  type=\"email\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  autoFocus\n                  value={this.state.email}\n                  onChange={this.onChange}\n                  error={this.state.mailError}\n                />\n                <TextField\n                  id=\"password\"\n                  variant=\"outlined\"\n                  className={classes.textField}\n                  required\n                  fullWidth\n                  label=\"Mots de passe\"\n                  type={this.state.showPassword ? \"text\" : \"password\"}\n                  name=\"password\"\n                  autoComplete=\"current-password\"\n                  value={this.state.password}\n                  onChange={this.onChange}\n                  error={this.state.passError}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          aria-label=\"Toggle password visibility\"\n                          onClick={this.handleClickShowPassword}\n                        >\n                          {this.state.showPassword ? (\n                            <Visibility />\n                          ) : (\n                            <VisibilityOff />\n                          )}\n                        </IconButton>\n                      </InputAdornment>\n                    )\n                  }}\n                />\n                <Button\n                  id=\"btLogin\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  type=\"submit\"\n                >\n                  Se connecter\n                </Button>\n\n                <Link href=\"#\" variant=\"body2\">\n                  Mot de passe oublié ?\n                </Link>\n              </form>\n            </div>\n          </Container>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from \"react\";\n\nclass Confirmation extends Component {\n  constructor() {\n    super();\n    this.state = {\n      mess: \"Un mail de confirmation vous a été envoyé !\"\n    };\n  }\n  componentDidMount() {\n    /* const token = sessionStorage.usertoken;\n    if (token) {\n      //const decoded = jwt_decode(token);\n      if (token.mess) {\n        this.setState({\n          mess: decoded.mess\n        });\n      }\n    }*/\n  }\n  render() {\n    return (\n      <div>\n        <h1>Confirmation</h1>\n        <h5>{this.state.mess}</h5>\n      </div>\n    );\n  }\n}\n\nexport default Confirmation;\n","import React, { Component } from \"react\";\nimport {\n  Container,\n  TextField,\n  Typography,\n  Button,\n  Grid,\n  InputAdornment,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent\n} from \"@material-ui/core\";\nimport { createStyled, register, getParamConfig } from \"../../utils/functions\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Confirmation from \"./Confirmation\";\n\nconst Styled = createStyled(theme => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  textField: {\n    margin: theme.spacing(1, 0, 1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  showIcon: {\n    margin: theme.spacing(1)\n  },\n  errorText: {\n    color: \"#ab003c\",\n    fontSize: 14,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  }\n}));\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user_name: \"\",\n      email: \"\",\n      password: \"\",\n      passConfirme: \"\",\n      showPassword: false,\n      error: \"\",\n      isError: [false, false, false, false],\n      open: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleClickShowPassword = this.handleClickShowPassword.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value,\n      error: \"\"\n    });\n  }\n\n  handleClickShowPassword = e => {\n    this.setState({\n      showPassword: !this.state.showPassword\n    });\n  };\n\n  handleClose() {\n    window.location.replace(getParamConfig(\"web_url\") + \"/login\");\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    if (this.state.user_name && this.state.email) {\n      if (!this.state.password) {\n        this.setState({\n          error: \"Saisissez votre mot de passe !\",\n          isError: [false, false, true, true]\n        });\n      } else if (this.state.password !== this.state.passConfirme) {\n        this.setState({\n          error: \"Les mots de passe saisies ne sont pas identiques\",\n          isError: [false, false, true, true]\n        });\n      } else {\n        const user = {\n          user_name: this.state.user_name,\n          email: this.state.email,\n          password: this.state.password\n        };\n        register(user).then(res => {\n          if (res.status === 200) {\n            //document.location.reload(true);\n            this.setState({\n              open: true\n            });\n          } else {\n            console.log(\"error register :\", res);\n            const err = res.err ? res.err : \"Connexion au serveur a échoué !\";\n            this.setState({\n              error: err\n            });\n          }\n        });\n      }\n    } else if (!this.state.user_name && !this.state.email) {\n      this.setState({\n        error: \"Saisissez votre pseudo et votre adresse e-mail !\",\n        isError: [true, true, false, false]\n      });\n    } else if (!this.state.user_name) {\n      this.setState({\n        error: \"Saisissez votre pseudo !\",\n        isError: [true, false, false, false]\n      });\n    } else {\n      this.setState({\n        error: \"Saisissez votre adresse e-mail !\",\n        isError: [false, true, false, false]\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n              <form\n                className={classes.form}\n                noValidate\n                onSubmit={this.onSubmit}\n                autoComplete=\"off\"\n              >\n                <TextField\n                  id=\"standard-userName-input\"\n                  variant=\"outlined\"\n                  className={classes.textField}\n                  required\n                  fullWidth\n                  autoFocus\n                  label=\"Mon pseudo\"\n                  name=\"user_name\"\n                  onChange={this.onChange}\n                  value={this.state.user_name}\n                  error={this.state.isError[0]}\n                />\n                <TextField\n                  id=\"standard-email-input\"\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  className={classes.textField}\n                  label=\"Adresse email\"\n                  type=\"email\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={this.state.isError[1]}\n                />\n\n                <Grid\n                  container\n                  alignItems=\"center\"\n                  justify=\"space-evenly\"\n                  spacing={1}\n                >\n                  <Grid item xs>\n                    <TextField\n                      id=\"password\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Mot de passe\"\n                      type={this.state.showPassword ? \"text\" : \"password\"}\n                      name=\"password\"\n                      autoComplete=\"current-password\"\n                      onChange={this.onChange}\n                      value={this.state.password}\n                      error={this.state.isError[2]}\n                    />\n                  </Grid>\n                  <Grid item xs>\n                    <TextField\n                      id=\"password-confirme\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Confirmation\"\n                      type={this.state.showPassword ? \"text\" : \"password\"}\n                      name=\"passConfirme\"\n                      autoComplete=\"current-password\"\n                      onChange={this.onChange}\n                      value={this.state.passConfirme}\n                      error={this.state.isError[3]}\n                    />{\" \"}\n                  </Grid>\n                  <Grid item xs={1}>\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"Toggle password visibility\"\n                        onClick={this.handleClickShowPassword}\n                      >\n                        {this.state.showPassword ? (\n                          <Visibility />\n                        ) : (\n                          <VisibilityOff />\n                        )}\n                      </IconButton>\n                    </InputAdornment>\n                  </Grid>\n                </Grid>\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  color=\"primary\"\n                  className={classes.submit}\n                  type=\"submit\"\n                >\n                  S'inscrire\n                </Button>\n              </form>\n              {this.state.error ? (\n                <Typography className={classes.errorText}>\n                  {this.state.error}\n                </Typography>\n              ) : (\n                \"\"\n              )}\n              <Dialog\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n                open={this.state.open}\n                onClose={this.handleClose}\n              >\n                <DialogTitle id=\"customized-dialog-title\">\n                  <IconButton\n                    aria-label=\"close\"\n                    className={classes.closeButton}\n                    onClick={this.handleClose}\n                  >\n                    <CloseIcon />\n                  </IconButton>\n                </DialogTitle>\n\n                <DialogContent>\n                  <Confirmation />\n                </DialogContent>\n              </Dialog>\n            </div>\n          </Container>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Register;\n","import React from \"react\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport { AppBar, Tabs, Tab, Typography, Box, Avatar } from \"@material-ui/core\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport { LockOutlined } from \"@material-ui/icons\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    \"aria-controls\": `full-width-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    marginTop: theme.spacing(2)\n  },\n  avatar: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    marginBottom: theme.spacing(5),\n    backgroundColor: theme.palette.primary.main\n  }\n}));\n\nexport default function LogRegister() {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [value, setValue] = React.useState(1);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  return !sessionStorage.usertoken ? (\n    <div className={classes.root}>\n      <Avatar className={classes.avatar}>\n        <LockOutlined />\n      </Avatar>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"full width tabs example\"\n        >\n          <Tab label=\"Inscription\" {...a11yProps(0)} />\n          <Tab label=\"Connexion\" {...a11yProps(1)} />\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        <TabPanel value={value} index={0} dir={theme.direction}>\n          <Register />\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction}>\n          <Login />\n        </TabPanel>\n      </SwipeableViews>\n    </div>\n  ) : (\n    <div className={classes.root}> Vous êtes connecté</div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Link as RouterLink, withRouter } from \"react-router-dom\";\nimport {\n  AppBar,\n  Link,\n  Breadcrumbs,\n  Typography,\n  Fab,\n  Dialog,\n  DialogContent,\n  IconButton,\n  DialogTitle,\n  Button,\n  Menu,\n  MenuItem\n} from \"@material-ui/core\";\nimport { createStyled, getUserToken } from \"../utils/functions\";\nimport classNames from \"classnames\";\nimport AccountIcon from \"@material-ui/icons/AccountCircleOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport LogRegister from \"./admin/LogRegister\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport jwt_decode from \"jwt-decode\";\n\nconst Styled = createStyled(theme => ({\n  nav_root: {\n    height: 130,\n    marginTop: 10,\n    background: \"#eceff1\",\n    color: \"white\",\n    position: \"static\",\n    flexGrow: 1\n  },\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\"),\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  },\n  menu: {\n    paddingLeft: \"10%\",\n    paddingTop: 45\n  },\n  typography: {\n    color: \"#fff\",\n    backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n    fontSize: 28,\n    fontWeight: 500,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  logIn: {\n    margin: theme.spacing(1),\n    position: \"absolute\",\n    right: \"5%\",\n    marginTop: 50\n  },\n  logTitle: {\n    color: \"#1769aa\",\n    fontSize: 16,\n    fontWeight: 600,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n}));\n\nclass NavBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedId: \"search\",\n      open: false,\n      anchorEl: null,\n      anchorElExplor: null\n    };\n    this.handleListItemClick = this.handleListItemClick.bind(this);\n    this.tabLinks = [\n      \"search\",\n      \"wills\",\n      \"about\",\n      \"testators\",\n      \"places\",\n      \"news\",\n      \"units\"\n    ];\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleMenuClick = this.handleMenuClick.bind(this);\n    this.handleMenuClose = this.handleMenuClose.bind(this);\n    this.handleExplorClick = this.handleExplorClick.bind(this);\n    this.handleExplorClose = this.handleExplorClose.bind(this);\n  }\n\n  handleListItemClick(event) {\n    this.setState({\n      selectedId: event.target.id\n    });\n  }\n\n  handleLoginClick(event) {\n    //this.props.history.push(\"/login\");\n    this.setState({\n      open: true\n    });\n  }\n\n  handleLogoutClick(event) {\n    sessionStorage.removeItem(\"usertoken\");\n    document.location.reload();\n  }\n  handleClose() {\n    this.setState({\n      open: false\n    });\n  }\n\n  handleMenuClick(event) {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  }\n\n  handleMenuClose() {\n    this.setState({\n      anchorEl: null\n    });\n  }\n\n  handleExplorClick(event) {\n    this.setState({\n      anchorElExplor: event.currentTarget\n    });\n  }\n\n  handleExplorClose() {\n    this.setState({\n      anchorElExplor: null\n    });\n  }\n\n  componentDidMount() {\n    const findLink = this.tabLinks.find(link =>\n      document.location.href.includes(link)\n    );\n\n    this.setState({\n      selectedId: findLink\n    });\n  }\n\n  render() {\n    const userLogin = (\n      <Styled>\n        {({ classes }) => (\n          <div>\n            <Fab\n              id=\"btLogin\"\n              color=\"primary\"\n              aria-label=\"Login\"\n              onClick={this.handleLoginClick}\n            >\n              <AccountIcon />\n            </Fab>\n            <Typography className={classes.logTitle}>CONNEXION</Typography>\n          </div>\n        )}\n      </Styled>\n    );\n    const userLogout = (\n      <Styled>\n        {({ classes }) => (\n          <div>\n            <Fab\n              id=\"btLogout\"\n              color=\"secondary\"\n              aria-label=\"Logout\"\n              onClick={this.handleLogoutClick}\n            >\n              <AccountIcon />\n            </Fab>\n            <Typography className={classes.logTitle}>DECONNEXION</Typography>\n          </div>\n        )}\n      </Styled>\n    );\n\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div>\n            <AppBar className={classNames(classes.nav_root)}>\n              <div className=\"logo\">\n                <Typography className={classes.typography}>\n                  Testaments de Poilus\n                </Typography>\n              </div>\n              <Breadcrumbs aria-label=\"Breadcrumb\" className={classes.menu}>\n                <Link\n                  id=\"search\"\n                  className={\n                    this.state.selectedId === \"search\"\n                      ? classNames(classes.link, classes.activedLink)\n                      : classes.link\n                  }\n                  component={RouterLink}\n                  to=\"/search\"\n                >\n                  {\" \"}\n                  Recherche{\" \"}\n                </Link>\n                <div>\n                  <Button\n                    className={classNames(classes.link)}\n                    onClick={this.handleExplorClick}\n                  >\n                    Explorer\n                    <ExpandMoreIcon className={classNames(classes.icon)} />\n                  </Button>\n                  <Menu\n                    id=\"simple-menu-explor\"\n                    anchorEl={this.state.anchorElExplor}\n                    keepMounted\n                    open={Boolean(this.state.anchorElExplor)}\n                    onClose={this.handleExplorClose}\n                  >\n                    <MenuItem onClick={this.handleExplorClose}>\n                      {\" \"}\n                      <Link\n                        id=\"wills\"\n                        className={\n                          this.state.selectedId === \"wills\"\n                            ? classNames(classes.link, classes.activedLink)\n                            : classes.link\n                        }\n                        component={RouterLink}\n                        to=\"/wills\"\n                        onClick={this.handleListItemClick}\n                      >\n                        Les testaments\n                      </Link>\n                    </MenuItem>\n                    <MenuItem onClick={this.handleExplorClose}>\n                      <Link\n                        id=\"testators\"\n                        className={\n                          this.state.selectedId === \"testators\"\n                            ? classNames(classes.link, classes.activedLink)\n                            : classes.link\n                        }\n                        component={RouterLink}\n                        to=\"/testators\"\n                        onClick={this.handleListItemClick}\n                      >\n                        Les testateurs\n                      </Link>\n                    </MenuItem>\n                    <MenuItem onClick={this.handleExplorClose}>\n                      <Link\n                        id=\"places\"\n                        className={\n                          this.state.selectedId === \"places\"\n                            ? classNames(classes.link, classes.activedLink)\n                            : classes.link\n                        }\n                        component={RouterLink}\n                        to=\"/places\"\n                        onClick={this.handleListItemClick}\n                      >\n                        Les lieux\n                      </Link>\n                    </MenuItem>\n                    <MenuItem onClick={this.handleExplorClose}>\n                      <Link\n                        id=\"units\"\n                        className={\n                          this.state.selectedId === \"units\"\n                            ? classNames(classes.link, classes.activedLink)\n                            : classes.link\n                        }\n                        component={RouterLink}\n                        to=\"/units\"\n                        onClick={this.handleListItemClick}\n                      >\n                        Les unités militaires\n                      </Link>\n                    </MenuItem>\n                  </Menu>\n                </div>\n\n                <Link\n                  id=\"news\"\n                  className={\n                    this.state.selectedId === \"news\"\n                      ? classNames(classes.link, classes.activedLink)\n                      : classes.link\n                  }\n                  component={RouterLink}\n                  to=\"/news\"\n                >\n                  {\" \"}\n                  Les actualités{\" \"}\n                </Link>\n                <Link\n                  id=\"articles\"\n                  className={\n                    this.state.selectedId === \"articles\"\n                      ? classNames(classes.link, classes.activedLink)\n                      : classes.link\n                  }\n                  component={RouterLink}\n                  to=\"/articles\"\n                >\n                  {\" \"}\n                  L'état de l'art{\" \"}\n                </Link>\n                <Link\n                  id=\"about\"\n                  className={\n                    this.state.selectedId === \"about\"\n                      ? classNames(classes.link, classes.activedLink)\n                      : classes.link\n                  }\n                  component={RouterLink}\n                  to=\"/about\"\n                >\n                  {\" \"}\n                  A propos{\" \"}\n                </Link>\n                {sessionStorage.usertoken ? (\n                  <Link\n                    id=\"mySpace\"\n                    className={\n                      this.state.selectedId === \"mySpace\"\n                        ? classNames(classes.link, classes.activedLink)\n                        : classes.link\n                    }\n                    component={RouterLink}\n                    to=\"/espace\"\n                  >\n                    {\" \"}\n                    Mon espace{\" \"}\n                  </Link>\n                ) : null}\n              </Breadcrumbs>\n              <div className={classes.logIn}>\n                {sessionStorage.usertoken ? userLogout : userLogin}\n              </div>\n            </AppBar>\n            <Dialog\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={sessionStorage.usertoken ? false : this.state.open}\n              onClose={this.handleClose}\n            >\n              <DialogTitle\n                id=\"customized-dialog-title\"\n                onClose={this.handleClose}\n              >\n                <IconButton\n                  aria-label=\"close\"\n                  className={classes.closeButton}\n                  onClick={this.handleClose}\n                >\n                  <CloseIcon />\n                </IconButton>\n              </DialogTitle>\n\n              <DialogContent>\n                <LogRegister />\n              </DialogContent>\n            </Dialog>\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default withRouter(NavBar);\n","import React from \"react\";\nimport { MultiList } from \"@appbaseio/reactivesearch\";\n\nconst ContributorFilters = () => (\n  <MultiList\n    react={{\n      and: [\"mainSearch\", \"cote\", \"testatorSearch\", \"date\", \"institution\"]\n    }}\n    componentId=\"contributors\"\n    dataField=\"contributions.persName.keyword\"\n    nestedField=\"contributions\"\n    title=\"Contributeurs\"\n    sortBy=\"count\"\n    queryFormat=\"and\"\n    URLParams\n    showCheckbox={false}\n    showSearch={true}\n    className=\"contributors\"\n    innerClass={{\n      list: \"list\"\n    }}\n    placeholder=\"Nom du contributeur\"\n    filterLabel=\"contributeurs\"\n  />\n);\n\nexport default ContributorFilters;\n","import React from \"react\";\nimport { SingleList } from \"@appbaseio/reactivesearch\";\n\nconst InstitutionFilters = () => (\n  <SingleList\n    react={{\n      and: [\"mainSearch\", \"cote\", \"testatorSearch\", \"date\", \"contributors\"]\n    }}\n    componentId=\"institution\"\n    dataField=\"will_identifier.institution.keyword\"\n    title=\"Institution de conservation\"\n    sortBy=\"count\"\n    URLParams\n    showCount={true}\n    showSearch={false}\n    className=\"contributors\"\n    filterLabel=\"Institution\"\n  />\n);\n\nexport default InstitutionFilters;\n","import L from \"leaflet\";\nimport \"leaflet.markercluster\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n//import { OpenStreetMapProvider } from \"leaflet-geosearch\";\n\n/*\n// setup\nconst provider = new OpenStreetMapProvider();\n\n// search\nconst results = provider.search({ query: \"bordeaux\" });\nlet suggestions = [];\nresults.then(function(result) {\n  result.forEach(adress => {\n    suggestions.push(adress[\"label\"]);\n  });\n});*/\n\nexport default class GeoMap extends React.Component {\n  map = null;\n  markers = L.markerClusterGroup();\n  constructor(props) {\n    super(props);\n    this.state = {\n      curData: []\n    };\n  }\n\n  /*\n    addMarkers(){\n        var markers = L.markerClusterGroup();\n        markers.addLayer(L.marker(getRandomLatLng(map)));\n        ... Add more layers ...\n        map.addLayer(markers);\n    }*/\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.curData && nextProps.data !== undefined) {\n      return {\n        curData: nextProps.data\n      };\n    }\n    return null;\n  }\n\n  componentDidUpdate() {\n    this.markers.clearLayers();\n    this.state.curData.forEach((point, i) => {\n      if (point[\"will_contents.will_place\"] !== undefined) {\n        let marker = L.marker(point[\"will_contents.will_place\"]);\n        marker.bindPopup(point[\"will_identifier.name\"]);\n        this.markers.addLayer(marker);\n      }\n    });\n    this.map.addLayer(this.markers);\n  }\n  componentDidMount() {\n    this.map = L.map(ReactDOM.findDOMNode(this)).setView(\n      [47.0780911, 2.3631982],\n      5\n    );\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      attribution:\n        \"&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n    }).addTo(this.map);\n    let markerCG = L.markerClusterGroup();\n    this.state.curData.forEach((point, i) => {\n      if (point.will_place !== undefined) {\n        let marker = L.marker(point.will_place);\n        marker.bindPopup(point.will_name);\n        markerCG.addLayer(marker);\n        this.markers.push(marker);\n      }\n    });\n    this.map.addLayer(markerCG);\n  }\n  componentWillUnmount() {\n    if (!this.map) return;\n    this.map = null;\n  }\n  render() {\n    return <div className={\"map-container\"} />;\n  }\n}\n","import OpenSeaDragon from \"openseadragon\";\nimport React from \"react\";\nimport { getParamConfig } from \"./functions\";\n\nexport default class ImageIIF extends React.Component {\n  constructor(props) {\n    super(props);\n    this.viewer = null;\n  }\n\n  componentDidUpdate() {\n    this.viewer.close();\n    let tileSources = {\n      type: \"image\",\n      url: this.props.url + \"/full/full/0/default.jpg\",\n      crossOriginPolicy: \"Anonymous\",\n      ajaxWithCredentials: false\n    };\n    this.viewer.open(tileSources);\n  }\n  componentDidMount() {\n    this.viewer = OpenSeaDragon({\n      id: this.props.id,\n      prefixUrl: getParamConfig(\"web_url\") + \"/images/\",\n      tileSources: {\n        type: \"image\",\n        url: this.props.url + \"/full/full/0/default.jpg\",\n        crossOriginPolicy: \"Anonymous\",\n        ajaxWithCredentials: false\n      }\n    });\n    console.log(this.viewer);\n  }\n\n  render() {\n    const style = {\n      width: \"100%\",\n      height: \"25em\",\n      maxWidth: \"150em\"\n    };\n    return <div id={this.props.id} style={style} />;\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link as RouterLink, withRouter } from \"react-router-dom\";\nimport ReactDOMServer from \"react-dom/server\";\nimport {\n  createStyled,\n  createElementFromHTML,\n  getParamConfig\n} from \"../utils/functions\";\nimport {\n  Breadcrumbs,\n  Paper,\n  Link,\n  Typography,\n  Grid,\n  IconButton\n} from \"@material-ui/core\";\nimport NewLine from \"@material-ui/icons/SubdirectoryArrowLeftOutlined\";\nimport SpaceLineIcon from \"@material-ui/icons/FormatLineSpacingOutlined\";\nimport SpaceBarIcon from \"@material-ui/icons/SpaceBarOutlined\";\nimport ImageIIF from \"../utils/ImageIIIF\";\nimport \"../styles/WillDisplay.css\";\nimport classNames from \"classnames\";\nimport isEqual from \"lodash/isEqual\";\nimport ListAddIcon from \"@material-ui/icons/PlaylistAddOutlined\";\nimport ListAddCheckIcon from \"@material-ui/icons/PlaylistAddCheckOutlined\";\nimport ExportIcon from \"@material-ui/icons/SaveAltOutlined\";\nimport Login from \"./admin/Login\";\n\nconst Styled = createStyled(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    color: \"#212121\",\n    backgroundColor: \"#FAFAFA\",\n    textAlign: \"justify\",\n    fontSize: 18\n  },\n\n  typography: {\n    fontFamily: \"-apple-system\",\n\n    fontWeight: 600\n  },\n  title: {\n    fontSize: 24,\n    fontStyle: \"oblique\",\n    textAlign: \"center\",\n    fontWeight: 600\n  },\n  linkPage: {\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 400,\n    \"&:hover\": {\n      color: \"#0091EA\"\n    }\n  },\n  selectedLink: {\n    fontWeight: 600,\n    color: \"#0091EA\",\n    fontSize: 18\n  }\n}));\n\nexport function createPage(page, idx, type) {\n  console.log(\"page :\", page);\n  let listTypes = { transcription: \"Transcription\", edition: \"Édition\" };\n  let output = (\n    <Styled>\n      {({ classes }) => (\n        <div>\n          <Typography className={classes.title}>{listTypes[type]}</Typography>\n          <Paper className={classes.paper}>\n            {\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: page[idx][type]\n                }}\n              />\n            }\n          </Paper>\n        </div>\n      )}\n    </Styled>\n  );\n\n  return output;\n}\nexport default class WillDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      idx: 0,\n      cur_page: null\n    };\n\n    this.handlePageClick = this.handlePageClick.bind(this);\n    this.handleExportClick = this.handleExportClick.bind(this);\n  }\n\n  handlePageClick(event) {\n    if (event.target.getAttribute(\"value\") !== this.state.idx) {\n      this.setState({\n        idx: event.target.getAttribute(\"value\")\n      });\n    }\n  }\n\n  handleExportClick() {\n    const token = sessionStorage.usertoken;\n    if (token) {\n    } else {\n      this.setState({\n        open: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    const cur_idx = this.props.data[\"will_pages\"].findIndex(item => {\n      return isEqual(item[\"page_type\"], this.props.cur_page);\n    });\n\n    if (cur_idx !== -1) {\n      this.setState({\n        idx: cur_idx\n      });\n    }\n    let lbCollection = document.getElementsByClassName(\"lb\");\n    for (let item of lbCollection) {\n      item.before(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <NewLine\n              titleAccess=\"changement de ligne\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"newLine_lb\"\n            />\n          )\n        )\n      );\n    }\n    let spaceVerCollection = document.getElementsByClassName(\"space_vertical\");\n    for (let item of spaceVerCollection) {\n      item.append(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <SpaceLineIcon\n              titleAccess=\"Marque un espace vertical\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"spaceLine_vertical\"\n            />\n          )\n        )\n      );\n    }\n    let spaceHorCollection = document.getElementsByClassName(\n      \"space_horizontal\"\n    );\n    for (let item of spaceHorCollection) {\n      item.append(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <SpaceBarIcon\n              titleAccess=\"Marque un espace horizontal\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"spaceLine_horizontal\"\n            />\n          )\n        )\n      );\n    }\n  }\n\n  componentDidUpdate() {\n    const idx = document.location.href.lastIndexOf(\"&page_type\");\n    if (idx !== -1) {\n      const cur_idx = this.props.data[\"will_pages\"].findIndex(item => {\n        return isEqual(item[\"page_type\"], this.props.cur_page);\n      });\n\n      if (cur_idx !== -1 && cur_idx !== this.state.idx) {\n        window.history.replaceState(\n          {},\n          document.title,\n          document.location.href.substring(0, idx)\n        );\n        this.setState({\n          idx: cur_idx\n        });\n      }\n    }\n\n    if (document.getElementById(\"newLine_lb\") === null) {\n      let lbCollection = document.getElementsByClassName(\"lb\");\n      for (let item of lbCollection) {\n        item.before(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <NewLine\n                titleAccess=\"changement de ligne\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"newLine_lb\"\n              />\n            )\n          )\n        );\n      }\n    }\n    if (document.getElementById(\"spaceLine_vertical\") === null) {\n      let spaceHorCollection = document.getElementsByClassName(\n        \"space_vertical\"\n      );\n      for (let item of spaceHorCollection) {\n        item.append(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <SpaceLineIcon\n                titleAccess=\"Marque un espace vertical\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"spaceLine_vertical\"\n              />\n            )\n          )\n        );\n      }\n    }\n    if (document.getElementById(\"spaceLine_horizontal\") === null) {\n      let spaceHorCollection = document.getElementsByClassName(\n        \"space_horizental\"\n      );\n      for (let item of spaceHorCollection) {\n        item.append(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <SpaceBarIcon\n                titleAccess=\"Marque un espace horizontal\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"spaceLine_horizontal\"\n              />\n            )\n          )\n        );\n      }\n    }\n  }\n\n  render() {\n    console.log(\"data :\", this.props.data);\n    let output = null;\n    if (this.props.data) {\n      const cur_idx =\n        this.props.data[\"will_pages\"].length <= this.state.idx\n          ? 0\n          : this.state.idx;\n      output = (\n        <Styled>\n          {({ classes }) => (\n            <div>\n              <Grid container direction=\"column\" justify=\"flex-start\">\n                <Grid key={3} item>\n                  <IconButton\n                    style={{ marginLeft: \"90%\" }}\n                    id=\"btExport\"\n                    onClick={this.handleExportClick}\n                    aria-label=\"Export\"\n                  >\n                    <ExportIcon fontSize=\"large\" />\n                  </IconButton>\n                </Grid>\n                <Grid key={2} item>\n                  <Paper>\n                    <Grid container justify=\"flex-start\" alignItems=\"center\">\n                      <Grid\n                        item\n                        className={classNames(\n                          classes.typography,\n                          classes.paper\n                        )}\n                        xs={6}\n                      >\n                        <Typography>\n                          {this.props.data[\"will_identifier.name\"]}\n                        </Typography>\n                        <Typography>Mort pour la france le ...</Typography>\n                        <Typography>Testament rédigé le ...</Typography>\n                        <Typography>\n                          Cote aux{\" \"}\n                          {this.props.data[\"will_identifier.institution\"]}{\" \"}\n                          {this.props.data[\"will_identifier.cote\"]}\n                        </Typography>\n                        <Typography>\n                          {this.props.data[\n                            \"will_physDesc.support\"\n                          ][0].toUpperCase() +\n                            this.props.data[\"will_physDesc.support\"].slice(1)}\n                          , {this.props.data[\"will_physDesc.handDesc\"]},{\" \"}\n                          {this.props.data[\"will_physDesc.dim\"][\"width\"]}\n                          {this.props.data[\"will_physDesc.dim\"][\"unit\"]} x{\" \"}\n                          {this.props.data[\"will_physDesc.dim\"][\"height\"]}\n                          {this.props.data[\"will_physDesc.dim\"][\"unit\"]}\n                        </Typography>\n                      </Grid>\n                      <Grid\n                        item\n                        className={classNames(\n                          classes.typography,\n                          classes.paper\n                        )}\n                        xs={6}\n                      >\n                        <Typography variant=\"h6\">\n                          Les contributeurs :\n                        </Typography>\n                        {this.props.data[\"contributions\"].map(contributor => {\n                          return (\n                            <Typography>\n                              {\" \"}\n                              {contributor[\"resp\"][0].toUpperCase() +\n                                contributor[\"resp\"].substring(1)}{\" \"}\n                              : {contributor[\"persName\"].join(\", \")}\n                            </Typography>\n                          );\n                        })}\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                </Grid>\n                <Grid key={0} item>\n                  {this.props.createPageMenu(\n                    this.props.data[\"_id\"],\n                    this.props.data[\"will_pages\"],\n                    cur_idx,\n                    this.handlePageClick\n                  )}\n                </Grid>\n                <Grid key={1} item>\n                  <Grid\n                    container\n                    justify=\"center\"\n                    alignItems=\"flex-start\"\n                    direction=\"row\"\n                    spacing={2}\n                  >\n                    <Grid key={10} item sm={4}>\n                      <Typography className={classes.title}>Image</Typography>\n                      <Paper className={classes.paper}>\n                        <ImageIIF\n                          url={\n                            this.props.data[\"will_pages\"][cur_idx][\n                              \"picture_url\"\n                            ]\n                          }\n                          id=\"willImage\"\n                        />\n                      </Paper>\n                    </Grid>\n                    <Grid key={11} item sm={4}>\n                      {createPage(\n                        this.props.data[\"will_pages\"],\n                        cur_idx,\n                        \"transcription\"\n                      )}\n                    </Grid>\n                    <Grid key={12} item sm={4}>\n                      {createPage(\n                        this.props.data[\"will_pages\"],\n                        cur_idx,\n                        \"edition\"\n                      )}\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </div>\n          )}\n        </Styled>\n      );\n    }\n\n    return output;\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { createStyled, createElementFromHTML } from \"../utils/functions\";\nimport { Breadcrumbs, Paper, Link, Typography, Grid } from \"@material-ui/core\";\nimport NewLine from \"@material-ui/icons/SubdirectoryArrowLeftOutlined\";\nimport SpaceLineIcon from \"@material-ui/icons/FormatLineSpacingOutlined\";\nimport SpaceBarIcon from \"@material-ui/icons/SpaceBarOutlined\";\nimport ImageIIF from \"../utils/ImageIIIF\";\nimport { createPage } from \"../components/WillDisplay\";\nimport classNames from \"classnames\";\n\nconst Styled = createStyled(theme => ({\n  paper: {\n    width: 450,\n    padding: theme.spacing(2),\n    fontFamily: [\n      \"Fira Sans\",\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\"),\n    fontSize: 18,\n    color: \"#212121\",\n    backgroundColor: \"#FAFAFA\",\n    textAlign: \"justify\"\n  },\n  title: {\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\"),\n    fontSize: 20,\n    fontStyle: \"oblique\",\n    fontWeight: 600,\n    textAlign: \"center\"\n  },\n  linkPage: {\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500\n  },\n  selectedLink: {\n    fontWeight: 600,\n    color: \"#0091EA\"\n  },\n  typography: {\n    fontFamily: [\n      \"Carta Nova Text Regular\",\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\"),\n    fontWeight: 600\n  }\n}));\n\nfunction createPageMenu(pages, idx, handleClick) {\n  let menu = [];\n  for (let i = 0; i < pages.length; i++) {\n    console.log(\n      \"page click :\",\n      pages[i][\"page_type\"].type + \"_\" + pages[i][\"page_type\"].id\n    );\n    menu.push(\n      <Styled key={i}>\n        {({ classes }) => (\n          <Link\n            id={i}\n            value={i}\n            component=\"button\"\n            color=\"inherit\"\n            onClick={handleClick}\n            className={\n              parseInt(idx) === i\n                ? classNames(classes.typography, classes.selectedLink)\n                : classNames(classes.linkPage, classes.typography)\n            }\n          >\n            {pages[i][\"page_type\"].type} {pages[i][\"page_type\"].id}\n          </Link>\n        )}\n      </Styled>\n    );\n  }\n\n  return (\n    <Breadcrumbs\n      style={{ marginTop: 20, marginBottom: 20 }}\n      aria-label=\"Breadcrumb\"\n    >\n      {\" \"}\n      {menu}{\" \"}\n    </Breadcrumbs>\n  );\n}\n\nclass WillCompare extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      idx: [0, 0, 0],\n      type: \"image\"\n    };\n\n    this.handlePageClick = this.handlePageClick.bind(this);\n    this.handleMenuClick = this.handleMenuClick.bind(this);\n  }\n\n  handlePageClick(i) {\n    return function(event) {\n      if (event.target.getAttribute(\"value\") !== this.state.idx) {\n        let idx_ = this.state.idx;\n        idx_[i] = event.target.getAttribute(\"value\");\n        this.setState({\n          idx: idx_\n        });\n      }\n    }.bind(this);\n  }\n\n  handleMenuClick(event) {\n    const types = [\"image\", \"transcription\", \"edition\"];\n    this.setState({\n      type: types[event.target.getAttribute(\"value\")]\n    });\n  }\n\n  componentDidMount() {\n    /*let cur_idx = this.props.data[\"will_pages\"].findIndex(item =>\n      isEqual(item[\"page_type\"], this.props.cur_page)\n    );\n    if (cur_idx !== -1) {\n      this.setState({\n        idx: cur_idx\n      });\n    } else {\n      cur_idx = 0;\n    }*/\n\n    //document.getElementById(String(cur_idx)).focus();\n    let lbCollection = document.getElementsByClassName(\"lb\");\n    for (let item of lbCollection) {\n      item.before(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <NewLine\n              titleAccess=\"changement de ligne\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"newLine_lb\"\n            />\n          )\n        )\n      );\n    }\n    let spaceVerCollection = document.getElementsByClassName(\"space_vertical\");\n    for (let item of spaceVerCollection) {\n      item.append(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <SpaceLineIcon\n              titleAccess=\"Marque un espace vertical\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"spaceLine_vertical\"\n            />\n          )\n        )\n      );\n    }\n    let spaceHorCollection = document.getElementsByClassName(\n      \"space_horizontal\"\n    );\n    for (let item of spaceHorCollection) {\n      item.append(\n        createElementFromHTML(\n          ReactDOMServer.renderToStaticMarkup(\n            <SpaceBarIcon\n              titleAccess=\"Marque un espace horizontal\"\n              color=\"primary\"\n              style={{ cursor: \"help\" }}\n              id=\"spaceLine_horizontal\"\n            />\n          )\n        )\n      );\n    }\n  }\n\n  componentDidUpdate() {\n    if (document.getElementById(\"newLine_lb\") === null) {\n      let lbCollection = document.getElementsByClassName(\"lb\");\n      for (let item of lbCollection) {\n        item.before(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <NewLine\n                titleAccess=\"changement de ligne\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"newLine_lb\"\n              />\n            )\n          )\n        );\n      }\n    }\n    if (document.getElementById(\"spaceLine_vertical\") === null) {\n      let spaceHorCollection = document.getElementsByClassName(\n        \"space_vertical\"\n      );\n      for (let item of spaceHorCollection) {\n        item.append(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <SpaceLineIcon\n                titleAccess=\"Marque un espace vertical\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"spaceLine_vertical\"\n              />\n            )\n          )\n        );\n      }\n    }\n    if (document.getElementById(\"spaceLine_horizontal\") === null) {\n      let spaceHorCollection = document.getElementsByClassName(\n        \"space_horizental\"\n      );\n      for (let item of spaceHorCollection) {\n        item.append(\n          createElementFromHTML(\n            ReactDOMServer.renderToStaticMarkup(\n              <SpaceBarIcon\n                titleAccess=\"Marque un espace horizontal\"\n                color=\"primary\"\n                style={{ cursor: \"help\" }}\n                id=\"spaceLine_horizontal\"\n              />\n            )\n          )\n        );\n      }\n    }\n  }\n\n  render() {\n    const totalItem = this.props.data.length;\n    let output = (\n      <Styled>\n        {({ classes }) => (\n          <Grid\n            container\n            justify=\"center\"\n            alignItems=\"center\"\n            direction=\"column\"\n            spacing={5}\n          >\n            <Grid item>\n              <Breadcrumbs aria-label=\"Breadcrumb\">\n                <Link\n                  id={0}\n                  value={0}\n                  component=\"button\"\n                  color=\"inherit\"\n                  href=\"#\"\n                  onClick={this.handleMenuClick}\n                  className={\n                    this.state.type === \"image\"\n                      ? classNames(classes.linkPage, classes.selectedLink)\n                      : classes.linkPage\n                  }\n                >\n                  Image\n                </Link>\n                <Link\n                  id={1}\n                  value={1}\n                  component=\"button\"\n                  color=\"inherit\"\n                  href=\"#\"\n                  onClick={this.handleMenuClick}\n                  className={\n                    this.state.type === \"transcription\"\n                      ? classNames(classes.linkPage, classes.selectedLink)\n                      : classes.linkPage\n                  }\n                >\n                  Transcription\n                </Link>\n                <Link\n                  id={2}\n                  value={2}\n                  component=\"button\"\n                  color=\"inherit\"\n                  href=\"#\"\n                  onClick={this.handleMenuClick}\n                  className={\n                    this.state.type === \"edition\"\n                      ? classNames(classes.linkPage, classes.selectedLink)\n                      : classes.linkPage\n                  }\n                >\n                  Edition\n                </Link>\n              </Breadcrumbs>\n            </Grid>\n            <Grid item>\n              <Grid\n                container\n                alignItems=\"flex-start\"\n                justify=\"center\"\n                direction=\"row\"\n                spacing={2}\n              >\n                {this.props.data.map((hit, i) => {\n                  return (\n                    <Grid item key={i * 100} sm={12 / totalItem}>\n                      <Grid\n                        key={i * 10}\n                        container\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        direction=\"column\"\n                        spacing={2}\n                      >\n                        <Grid key={1} item>\n                          <Typography className={classes.title}>\n                            {hit[\"name\"]}\n                          </Typography>\n                        </Grid>\n                        <Grid key={2} item>\n                          {createPageMenu(\n                            hit[\"will\"],\n                            this.state.idx[i],\n                            this.handlePageClick(i)\n                          )}\n                        </Grid>\n                      </Grid>\n\n                      <Grid key={3} item>\n                        {this.state.type === \"image\" ? (\n                          <div>\n                            <Typography className={classes.title}>\n                              Image\n                            </Typography>\n                            <Paper className={classes.paper}>\n                              <ImageIIF\n                                url={\n                                  hit[\"will\"][this.state.idx[i]][\"picture_url\"]\n                                }\n                                id={hit[\"id\"]}\n                              />\n                            </Paper>\n                          </div>\n                        ) : (\n                          createPage(\n                            hit[\"will\"],\n                            this.state.idx[i],\n                            this.state.type\n                          )\n                        )}\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n            </Grid>\n          </Grid>\n        )}\n      </Styled>\n    );\n\n    return output;\n  }\n}\n\nexport default WillCompare;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport WillDisplay from \"../WillDisplay\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  ListItemText,\n  ListItemAvatar,\n  Avatar,\n  Typography,\n  Grid,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  IconButton,\n  DialogContent,\n  Chip,\n  Snackbar,\n  SnackbarContent,\n  Link,\n  Tooltip\n} from \"@material-ui/core\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Divider from \"@material-ui/core/Divider\";\nimport classNames from \"classnames\";\nimport {\n  createStyled,\n  getParamConfig,\n  getUserToken,\n  updateMyListWills,\n  getHits_bis,\n  getHitsFromQuery\n} from \"../../utils/functions\";\nimport WillCompare from \"../WillCompare\";\nimport InfoIcon from \"@material-ui/icons/Info\";\n\nimport ListAddIcon from \"@material-ui/icons/PlaylistAddOutlined\";\nimport ListAddCheckIcon from \"@material-ui/icons/PlaylistAddCheckOutlined\";\nimport RemoveShoppingCartIcon from \"@material-ui/icons/RemoveShoppingCartOutlined\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCartOutlined\";\n\n// Style button\nconst Styled = createStyled(theme => ({\n  typography: {\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  typoName: {\n    fontSize: 20,\n    fontStyle: \"oblique\",\n    fontWeight: 600,\n    color: \"#424242\"\n  },\n  typoText: {\n    fontSize: 16,\n    fontWeight: 500,\n    marginTop: 15,\n    paddingLeft: 20,\n    display: \"block\"\n  },\n  margin: {\n    margin: theme.spacing(12)\n  },\n\n  willTitle: {\n    \"&:hover\": {\n      borderColor: \"#E0E0E0\",\n      border: \"solid\",\n      cursor: \"pointer\"\n    }\n  },\n  chip: {\n    margin: theme.spacing(0.5)\n  },\n  chipRoot: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    padding: theme.spacing(0.5)\n  },\n  info: {\n    backgroundColor: \"#1976d2\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: 16\n  }\n}));\n\nconst listMenu = { page: \"Page\", envelope: \"Enveloppe\", codicil: \"Codicille\" };\n\nexport default class ResultWills extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curData: [],\n      openDialog: false,\n      openAlert: false,\n      willPage: null,\n      cur_page: 0,\n      styleTitle: {},\n      count: 0,\n      chipData: [],\n      displayType: null,\n      anchorEl: null,\n      message: \"\",\n      myWills: []\n    };\n    this.userToken = getUserToken();\n    this.displayMore = this.displayMore.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleClickWill = this.handleClickWill.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleCompareClick = this.handleCompareClick.bind(this);\n    this.handleOpenMenu = this.handleOpenMenu.bind(this);\n    this.handleAddShoppingWill = this.handleAddShoppingWill.bind(this);\n    this.handleremoveShoppingWill = this.handleremoveShoppingWill.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.curData && nextProps.data !== undefined) {\n      return {\n        curData: nextProps.data,\n        anchorEl: null\n      };\n    }\n    return null;\n  }\n\n  handleOpenMenu(event) {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  }\n\n  displayMore(item, page) {\n    return function(e) {\n      let url_param = item[\"_id\"];\n\n      url_param += page ? \"/\" + page[\"type\"] + \"_\" + page[\"id\"] : \"\";\n\n      window.location.href = getParamConfig(\"web_url\") + \"/will/\" + url_param;\n    };\n  }\n\n  handleAddShoppingWill(id) {\n    return function(e) {\n      let myWills_ =\n        sessionStorage.myWills.length > 0\n          ? sessionStorage.myWills.split(\",\")\n          : [];\n      myWills_.push(id);\n      const newItem = {\n        email: this.userToken.email,\n        myWills: myWills_\n      };\n\n      updateMyListWills(newItem).then(res => {\n        if (res.status === 200) {\n          this.setState({\n            message: res.mess,\n            myWills: myWills_\n          });\n          sessionStorage.setItem(\"myWills\", myWills_);\n        } else {\n          const err = res.err ? res.err : \"Connexion au serveur a échoué !\";\n\n          this.setState({\n            message: err\n          });\n        }\n      });\n    }.bind(this);\n  }\n\n  handleremoveShoppingWill(id) {\n    return function(e) {\n      let myWills_ = sessionStorage.myWills\n        .split(\",\")\n        .filter(item => item !== id);\n      const newItem = {\n        email: this.userToken.email,\n        myWills: myWills_\n      };\n      updateMyListWills(newItem).then(res => {\n        if (res.status === 200) {\n          this.setState({\n            message: res.mess,\n            myWills: myWills_\n          });\n          sessionStorage.setItem(\"myWills\", myWills_);\n        } else {\n          const err = res.err ? res.err : \"Connexion au serveur a échoué !\";\n          this.setState({\n            message: err\n          });\n        }\n      });\n    }.bind(this);\n  }\n\n  handleClose = function() {\n    this.setState({\n      openDialog: false,\n      openAlert: false,\n      willPage: null,\n      cur_page: 0,\n      anchorEl: null\n    });\n  };\n\n  handleClickWill(will) {\n    return function(e) {\n      let styleTitle_ = this.state.styleTitle;\n      let count_ = this.state.count;\n      let chipData_ = this.state.chipData;\n      if (Boolean(styleTitle_[will[\"_id\"]])) {\n        styleTitle_[will[\"_id\"]] = false;\n        count_ -= 1;\n        chipData_ = chipData_.filter(item => item[\"id\"] !== will[\"_id\"]);\n      } else {\n        if (count_ < 3) {\n          styleTitle_[will[\"_id\"]] = true;\n          count_ += 1;\n          chipData_.push({\n            will: will[\"will_pages\"],\n            id: will[\"_id\"],\n            name: will[\"testator_name\"]\n          });\n        } else {\n          this.setState({\n            openAlert: true\n          });\n        }\n      }\n\n      this.setState({\n        styleTitle: styleTitle_,\n        count: count_,\n        chipData: chipData_\n      });\n    }.bind(this);\n  }\n\n  handleDelete(chipToDelete) {\n    let styleTitle_ = this.state.styleTitle;\n    styleTitle_[chipToDelete[\"id\"]] = false;\n\n    this.setState({\n      chipData: this.state.chipData.filter(\n        chip => chip[\"id\"] !== chipToDelete[\"id\"]\n      ),\n      count: this.state.count - 1,\n      styleTitle: styleTitle_\n    });\n  }\n\n  handleCompareClick() {\n    const url_ids = this.state.chipData.map(item => item[\"id\"]);\n\n    window.location.href =\n      getParamConfig(\"web_url\") + \"/compare/\" + url_ids.join(\"+\");\n  }\n\n  componentDidUpdate() {\n    if (this.state.chipData !== undefined) {\n      let chip = (\n        <div id=\"chipWill\">\n          {this.state.chipData.map(data => {\n            const name = data[\"name\"].split(\" \");\n            const username =\n              name[0].length > 2 ? name[0] : name[0] + \" \" + name[1];\n            const forename = name[name.length - 1];\n            return (\n              <Chip\n                key={data[\"id\"]}\n                label={forename[0] + \". \" + username}\n                onDelete={e => this.handleDelete(data)}\n              />\n            );\n          })}\n        </div>\n      );\n      if (this.state.count > 0) {\n        ReactDOM.render(chip, document.getElementById(\"chipRoot\"));\n      } else {\n        ReactDOM.render(\n          <div id=\"chipWill\"></div>,\n          document.getElementById(\"chipRoot\")\n        );\n      }\n    }\n\n    document\n      .getElementById(\"btCompare\")\n      .addEventListener(\"click\", this.handleCompareClick, true);\n  }\n\n  componentDidMount() {\n    if (sessionStorage.myWills) {\n      this.setState({\n        myWills:\n          sessionStorage.myWills.length > 0\n            ? sessionStorage.myWills.split(\",\")\n            : []\n      });\n    }\n  }\n\n  render() {\n    console.log(\"mess :\", this.state.message);\n    const results = this.state.curData.map((item, j) => {\n      let descriptions = [];\n      if (item.inner_hits) {\n        const hits_size = item.inner_hits.will_pages.hits.hits.length;\n\n        item.inner_hits.will_pages.hits.hits.sort(function(a, b) {\n          return b._source[\"page_type\"][\"type\"].localeCompare(\n            a._source[\"page_type\"][\"type\"]\n          );\n        });\n        item.inner_hits.will_pages.hits.hits.sort(function(a, b) {\n          return a._source[\"page_type\"][\"id\"] - b._source[\"page_type\"][\"id\"];\n        });\n        descriptions = item.inner_hits.will_pages.hits.hits.map((hit, i) => {\n          let div_id_page = (\n            <React.Fragment>\n              <Link\n                id=\"btMore\"\n                onClick={this.displayMore(item, hit._source[\"page_type\"])}\n                aria-label=\"More\"\n                component=\"button\"\n                style={{ color: \"#424242\", fontSize: 16 }}\n              >\n                {listMenu[hit._source[\"page_type\"][\"type\"]]}{\" \"}\n                {hit._source[\"page_type\"][\"id\"]}\n              </Link>\n            </React.Fragment>\n          );\n\n          let div_text_page = [];\n          if (hit.highlight) {\n            div_text_page = hit.highlight[Object.keys(hit.highlight)[0]].map(\n              (page, k) => {\n                return (\n                  <Styled key={k + 1000}>\n                    {({ classes }) => (\n                      <Typography\n                        component=\"span\"\n                        className={classNames(\n                          classes.typoText,\n                          classes.typography\n                        )}\n                        dangerouslySetInnerHTML={{\n                          __html: page\n                        }}\n                      />\n                    )}\n                  </Styled>\n                );\n              }\n            );\n          }\n\n          return (\n            <React.Fragment key={i * 1000 + 1}>\n              {div_id_page}\n              {div_text_page}\n              {i < hits_size - 1 ? (\n                <Divider variant=\"inset\" light={true} />\n              ) : null}\n            </React.Fragment>\n          );\n        });\n      }\n\n      const isAdded = Boolean(this.userToken)\n        ? this.state.myWills.findIndex(el => el === item[\"_id\"])\n        : -1;\n      return (\n        <Styled key={j}>\n          {({ classes }) => (\n            <React.Fragment>\n              <ListItem alignItems=\"flex-start\" component=\"div\">\n                <ListItemAvatar>\n                  <Avatar\n                    alt=\"avatar-testator\"\n                    src={\n                      getParamConfig(\"web_url\") + \"/images/default-testator.png\"\n                    }\n                  />\n                </ListItemAvatar>\n                <ListItemText\n                  primary={\n                    <Grid container direction=\"row\" spacing={1}>\n                      <Grid item xs={10}>\n                        <Link\n                          onClick={this.displayMore(item, null)}\n                          aria-label=\"More\"\n                          className={classNames(\n                            classes.typoName,\n                            classes.typography\n                          )}\n                          component=\"button\"\n                        >\n                          {item[\"will_identifier.name\"].replace(\n                            \"Testament de\",\n                            \"\"\n                          )}\n                        </Link>\n                      </Grid>\n                      <Grid item xs={2} value={item[\"_id\"]}>\n                        <Grid container direction=\"row\" spacing={1}>\n                          <Grid item>\n                            <Tooltip\n                              title=\"Ajouter à la comparaison\"\n                              style={{ cursor: \"hand\" }}\n                              interactive\n                            >\n                              {Boolean(this.state.styleTitle[item[\"_id\"]]) ? (\n                                <ListAddCheckIcon\n                                  onClick={this.handleClickWill(item)}\n                                  color=\"action\"\n                                />\n                              ) : (\n                                <ListAddIcon\n                                  onClick={this.handleClickWill(item)}\n                                />\n                              )}\n                            </Tooltip>\n                          </Grid>\n                          {Boolean(this.userToken) ? (\n                            <Grid item>\n                              {isAdded === -1 ? (\n                                <Tooltip\n                                  title=\"Ajouter au panier\"\n                                  placement=\"bottom\"\n                                  style={{ cursor: \"hand\" }}\n                                >\n                                  <AddShoppingCartIcon\n                                    onClick={this.handleAddShoppingWill(\n                                      item[\"_id\"]\n                                    )}\n                                  />\n                                </Tooltip>\n                              ) : (\n                                <Tooltip\n                                  title=\"Supprimer de panier\"\n                                  placement=\"bottom\"\n                                  style={{ cursor: \"hand\" }}\n                                >\n                                  <RemoveShoppingCartIcon\n                                    color=\"action\"\n                                    onClick={this.handleremoveShoppingWill(\n                                      item[\"_id\"]\n                                    )}\n                                  />\n                                </Tooltip>\n                              )}\n                            </Grid>\n                          ) : null}\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  }\n                  secondary={descriptions}\n                />\n              </ListItem>\n              <Divider variant=\"inset\" light={true} />\n            </React.Fragment>\n          )}\n        </Styled>\n      );\n    });\n\n    results.push(\n      <Dialog\n        key={1000}\n        fullWidth={true}\n        maxWidth=\"xl\"\n        open={this.state.openDialog}\n        onClose={this.handleClose}\n        aria-labelledby=\"max-width-dialog-title\"\n      >\n        <Grid container direction=\"row\" spacing={4}>\n          <Grid item xs={10}>\n            <DialogTitle id=\"max-width-dialog-title\">{\"\"}</DialogTitle>\n          </Grid>\n          <Grid item xs={2}>\n            <DialogActions>\n              <IconButton\n                id=\"btClose\"\n                onClick={this.handleClose}\n                aria-label=\"Close\"\n              >\n                <CloseIcon\n                  fontSize=\"large\"\n                  style={{\n                    color: \"#b71c1c\"\n                  }}\n                />\n              </IconButton>\n            </DialogActions>\n          </Grid>\n        </Grid>\n\n        <DialogContent>\n          {this.state.displayType === \"More\" ? (\n            <WillDisplay\n              data={this.state.willPage}\n              cur_page={this.state.cur_page}\n            />\n          ) : (\n            <WillCompare data={this.state.chipData} />\n          )}\n        </DialogContent>\n      </Dialog>\n    );\n    results.push(\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        key=\"topCenter\"\n        open={this.state.openAlert}\n        onClose={this.handleClose}\n        autoHideDuration={5000}\n        ContentProps={{\n          \"aria-describedby\": \"message-id\"\n        }}\n        message={\n          <span id=\"message-id\">\n            Le nombre maximum de testaments à comparer est atteint.\n          </span>\n        }\n      >\n        <Styled>\n          {({ classes }) => (\n            <SnackbarContent\n              className={classes.info}\n              aria-describedby=\"client-snackbar\"\n              message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                  <InfoIcon\n                    className={classNames(classes.icon, classes.iconVariant)}\n                  />\n                  Le nombre maximum de testaments à comparer est atteint.\n                </span>\n              }\n              action={[\n                <IconButton\n                  key=\"close\"\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  onClick={this.handleClose}\n                >\n                  <CloseIcon className={classes.icon} />\n                </IconButton>\n              ]}\n            />\n          )}\n        </Styled>\n      </Snackbar>\n    );\n    return <div className=\"list-container\">{results}</div>;\n  }\n}\n","import React from \"react\";\nimport { DataSearch } from \"@appbaseio/reactivesearch\";\nimport \"../../styles/leftBar.css\";\nimport { Grid, Typography, MenuItem, Select } from \"@material-ui/core\";\nimport { createStyled } from \"../../utils/functions\";\nimport classNames from \"classnames\";\n// Style button\nconst Styled = createStyled(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    margin: theme.spacing(1, 1, 4, 1)\n  },\n  inputSearch: {\n    borderRadius: \"22px\",\n    border: \"1px solid red\"\n  },\n  typography: {\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  typoTitle: {\n    fontSize: 15,\n    fontWeight: \"bold\",\n    color: \"#424242\"\n  },\n  select: {\n    height: 20\n  }\n}));\n\nlet customQuery = function(value, props) {\n  if (value === \"\") {\n    return {\n      query: {\n        match_all: {}\n      }\n    };\n  } else {\n    let field_value = value;\n    let field_name = \"will_pages.edition_text\";\n    let fied_option = { \"will_pages.edition_text\": { type: \"plain\" } };\n    if (props && props.dataField) {\n      if (props.dataField[0] === \"will_pages.transcription_text\") {\n        field_name = \"will_pages.transcription_text\";\n        fied_option = { \"will_pages.transcription_text\": { type: \"plain\" } };\n      }\n    }\n    return {\n      query: {\n        nested: {\n          path: \"will_pages\",\n          query: {\n            simple_query_string: {\n              fields: [field_name],\n              query: field_value\n            }\n          },\n          inner_hits: {\n            highlight: {\n              order: \"score\",\n              fields: fied_option,\n              pre_tags: [\"<mark>\"],\n              post_tags: [\"</mark>\"],\n              boundary_scanner_locale: \"fr-FR\",\n              number_of_fragments: 10,\n              fragment_size: 50\n            }\n          }\n        }\n      }\n    };\n  }\n};\n\nclass TextSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"will_pages.transcription_text\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n  render() {\n    const page_name =\n      this.state.value === \"will_pages.edition_text\"\n        ? \"édition\"\n        : \"transcription\";\n    return (\n      <Styled>\n        {({ classes }) => (\n          <Grid\n            className={classes.root}\n            container\n            justify=\"center\"\n            direction=\"column\"\n            spacing={1}\n          >\n            <Grid item>\n              <Grid container direction=\"row\" spacing={1}>\n                <Grid item>\n                  <Typography\n                    className={classNames(\n                      classes.typography,\n                      classes.typoTitle\n                    )}\n                  >\n                    Effectuer votre recherche dans\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <Select\n                    value={this.state.value}\n                    onChange={this.handleChange}\n                    className={classes.select}\n                    name=\"value\"\n                  >\n                    <MenuItem value=\"will_pages.transcription_text\">\n                      transcription\n                    </MenuItem>\n                    <MenuItem value=\"will_pages.edition_text\">édition</MenuItem>\n                  </Select>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item className={classes.dataSearch}>\n              <DataSearch\n                componentId=\"mainSearch\"\n                dataField={[this.state.value]}\n                queryFormat=\"or\"\n                placeholder={\"Que recherchez-vous dans \" + page_name + \" ?\"}\n                iconPosition=\"right\"\n                filterLabel=\"search\"\n                autosuggest={false}\n                customQuery={customQuery}\n                URLParams\n                onValueChange={function(value) {}}\n                onValueSelected={function(value, cause, source) {}}\n                onQueryChange={function(prevQuery, nextQuery) {}}\n                searchOperators={true}\n                fuzziness={\"AUTO\"}\n                innerClass={{\n                  input: classes.inputSearch\n                }}\n              />\n            </Grid>\n          </Grid>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default TextSearch;\n","import React from \"react\";\nimport {\n  ReactiveList,\n  SelectedFilters,\n  ReactiveComponent\n} from \"@appbaseio/reactivesearch\";\n\nimport { Fab, Grid, Tooltip } from \"@material-ui/core\";\nimport { createStyled } from \"../../utils/functions\";\nimport ArrowUpIcon from \"@material-ui/icons/KeyboardArrowUpOutlined\";\nimport CompareIcon from \"@material-ui/icons/CompareOutlined\";\nimport classNames from \"classnames\";\nimport GeoMap from \"./GeoMap_bis\";\n\nimport ResultWills from \"./ResultWills\";\nimport TextSearch from \"./TextSearch\";\n\n// Style button\nconst Styled = createStyled(theme => ({\n  typography: {\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  typoName: {\n    fontSize: 20,\n    fontStyle: \"oblique\",\n    fontWeight: 600\n  },\n  typoText: {\n    fontSize: 16,\n    fontWeight: 500,\n    marginTop: 15,\n    paddingLeft: 20,\n    display: \"block\"\n  },\n  margin: {\n    margin: theme.spacing(12)\n  },\n  bootstrapRoot: {\n    display: \"none\",\n    position: \"fixed\",\n    bottom: 10,\n    right: 10,\n    boxShadow: \"none\",\n    fontSize: 16,\n    border: \"1px solid\",\n\n    \"&:hover\": {\n      backgroundColor: \"#bcaaa4\",\n      borderColor: \"#bcaaa4\"\n    }\n  },\n  divider: {\n    color: \"#212121\"\n  }\n}));\n\n// Up to top page click\n\nwindow.onscroll = function() {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (Boolean(document.getElementById(\"btTop\"))) {\n    if (\n      document.body.scrollTop > 100 ||\n      document.documentElement.scrollTop > 100\n    ) {\n      document.getElementById(\"btTop\").style.display = \"block\";\n    } else {\n      document.getElementById(\"btTop\").style.display = \"none\";\n    }\n  }\n}\n\nclass Results extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curField: \"\",\n      curOrder: \"\"\n    };\n    this.topFunction = this.topFunction.bind(this);\n  }\n\n  topFunction = function() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (\n      nextProps.field !== prevState.curField ||\n      nextProps.order !== prevState.curOrder\n    ) {\n      return {\n        curField: nextProps.field,\n        curOrder: nextProps.order\n      };\n    }\n    return null;\n  }\n\n  // Render\n  render() {\n    return (\n      <div key={0}>\n        <div className=\"main-container\">\n          <TextSearch />\n          <SelectedFilters clearAllLabel=\"Effacer les critères de recherche\" />\n\n          <ReactiveList\n            react={{\n              and: [\n                \"mainSearch\",\n                \"contributors\",\n                \"institution\",\n                \"date\",\n                \"cote\",\n                \"testatorSearch\",\n                \"ProvenanceTag\",\n                \"checkBox\"\n              ]\n            }}\n            dataField={this.state.curField}\n            sortBy={this.state.curOrder}\n            componentId=\"searchResult\"\n            stream={true}\n            pagination={false}\n            size={15}\n            showResultStats={true}\n            infiniteScroll={true}\n            loader=\"Loading Results..\"\n            renderResultStats={function(stats) {\n              return ` ${stats.numberOfResults} testaments sur 193 correspondent à votre recherche`;\n            }}\n          >\n            {({ data, error, loading }) => <ResultWills data={data} />}\n          </ReactiveList>\n        </div>\n        <div className=\"rightSidebar\">\n          <Grid container direction=\"row\" spacing={1}>\n            <Grid item>\n              <Grid container direction=\"row\" spacing={1}>\n                <Grid item>\n                  <div id=\"chipRoot\">\n                    <div id=\"chipWill\"></div>\n                  </div>\n                </Grid>\n                <Grid item>\n                  <Tooltip\n                    title=\"Comparer les testaments\"\n                    style={{ cursor: \"hand\" }}\n                    interactive\n                  >\n                    <Fab id=\"btCompare\" aria-label=\"Compare\" size=\"small\">\n                      <CompareIcon />\n                    </Fab>\n                  </Tooltip>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <ReactiveComponent\n                componentId=\"mapSearch\"\n                react={{\n                  and: [\n                    \"mainSearch\",\n                    \"contributors\",\n                    \"institution\",\n                    \"date\",\n                    \"cote\",\n                    \"testatorSearch\",\n                    \"ProvenanceTag\"\n                  ]\n                }}\n                defaultQuery={() => ({\n                  _source: [\"will_contents.will_place\", \"will_identifier.name\"],\n                  size: 100,\n                  query: {\n                    match_all: {}\n                  }\n                })}\n                render={({ data }) => <GeoMap data={data} />}\n              />\n            </Grid>\n            <Grid item>\n              {/*<TagCloud\n                className=\"tag-container\"\n                componentId=\"ProvenanceTag\"\n                dataField=\"will_identifier.institution.keyword\"\n                title=\"Provenance\"\n                size={50}\n                showCount={true}\n                multiSelect={true}\n                queryFormat=\"or\"\n                react={{\n                  and: [\n                    \"mainSearch\",\n                    \"contributors\",\n                    \"institution\",\n                    \"date\",\n                    \"cote\",\n                    \"testatorSearch\"\n                  ]\n                }}\n                showFilter={true}\n                filterLabel=\"Provenance\"\n                URLParams={true}\n                loader=\"Loading ...\"\n              />*/}\n            </Grid>\n          </Grid>\n        </div>\n        <Styled>\n          {({ classes }) => (\n            <Tooltip title=\"Au top\" style={{ cursor: \"hand\" }} interactive>\n              <Fab\n                id=\"btTop\"\n                onClick={this.topFunction}\n                aria-label=\"Top\"\n                className={classNames(classes.margin, classes.bootstrapRoot)}\n                size=\"medium\"\n              >\n                <ArrowUpIcon />\n              </Fab>\n            </Tooltip>\n          )}\n        </Styled>\n      </div>\n    );\n  }\n}\n\nexport default Results;\n","import React from \"react\";\nimport { DateRange } from \"@appbaseio/reactivesearch\";\n\nconst DateFilter = () => (\n  <DateRange\n    componentId=\"date\"\n    dataField=\"will_contents.will_date\"\n    title=\"Date de rédaction\"\n    placeholder={{\n      start: \"Début \",\n      end: \"Fin\"\n    }}\n    queryFormat=\"date\"\n    URLParams\n    initialMonth={new Date(\"1914-07-01\")}\n  />\n);\n\nexport default DateFilter;\n","import React from \"react\";\nimport {\n  DataSearch,\n  SingleList,\n  SingleDropdownList\n} from \"@appbaseio/reactivesearch\";\nimport \"../../styles/leftBar.css\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  Grid\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nconst CustumerDataSearch = () => (\n  <ExpansionPanel>\n    <ExpansionPanelSummary\n      expandIcon={<ExpandMoreIcon />}\n      aria-controls=\"panel1a-content\"\n      id=\"panel1a-header\"\n    >\n      <Grid container direction=\"column\" spacing={1}>\n        <Grid item>\n          {/*<DataSearch\n            className=\"datasearch\"\n            componentId=\"testatorSearch\"\n            dataField={[\"testator_name\"]}\n            queryFormat=\"and\"\n            placeholder=\"Nom de testateur\"\n            title=\"Nom du testateur\"\n            iconPosition=\"right\"\n            filterLabel=\"search\"\n            autosuggest={true}\n            URLParams\n          />\n          <SingleList\n            componentId=\"testatorSearch\"\n            dataField=\"testator_name.keyword\"\n            sortBy=\"asc\"\n            queryFormat=\"and\"\n            URLParams\n            showSearch={false}\n            className=\"datasearch\"\n            innerClass={{\n              list: \"list\"\n            }}\n            filterLabel=\"search\"\n          />*/}\n\n          <SingleList\n            className=\"datasearch\"\n            react={{\n              and: [\"mainSearch\", \"cote\", \"date\", \"institution\", \"contributors\"]\n            }}\n            componentId=\"testatorSearch\"\n            dataField=\"testator_name.keyword\"\n            title=\"Nom du testateur\"\n            size={1000}\n            sortBy=\"count\"\n            showCount={true}\n            placeholder=\"Nom de testateur\"\n            showFilter={true}\n            filterLabel=\"search\"\n            URLParams={true}\n            loader=\"Loading ...\"\n            innerClass={{\n              list: \"list\"\n            }}\n          />\n        </Grid>\n        <Grid item>\n          {/* <DataSearch\n            className=\"datasearch\"\n            componentId=\"cote\"\n            dataField={[\"will_identifier.cote\"]}\n            queryFormat=\"and\"\n            placeholder=\"Cote\"\n            title=\"Cote du testament\"\n            iconPosition=\"right\"\n            filterLabel=\"search\"\n            autosuggest={false}\n            URLParams\n         />*/}\n          <SingleList\n            className=\"datasearch\"\n            react={{\n              and: [\n                \"mainSearch\",\n                \"testatorSearch\",\n                \"date\",\n                \"institution\",\n                \"contributors\"\n              ]\n            }}\n            componentId=\"cote\"\n            dataField=\"will_identifier.cote.keyword\"\n            title=\"Cote du testament\"\n            size={1000}\n            sortBy=\"count\"\n            showCount={true}\n            placeholder=\"Cote du testament\"\n            showFilter={true}\n            filterLabel=\"search\"\n            URLParams={true}\n            iconPosition=\"right\"\n            loader=\"Loading ...\"\n            innerClass={{\n              list: \"list\"\n            }}\n          />\n        </Grid>\n      </Grid>\n    </ExpansionPanelSummary>\n\n    <ExpansionPanelDetails>\n      <Grid container justify=\"center\" direction=\"column\" spacing={1}>\n        <Grid item>\n          <DataSearch\n            className=\"datasearch\"\n            componentId=\"deathPlace\"\n            dataField={[\"death_place\"]}\n            queryFormat=\"and\"\n            placeholder=\"Lieu\"\n            title=\"Lieu de décès\"\n            iconPosition=\"left\"\n            filterLabel=\"search\"\n            autosuggest={true}\n            URLParams\n          />\n        </Grid>\n        <Grid item>\n          <DataSearch\n            className=\"datasearch\"\n            componentId=\"willPlace\"\n            dataField={[\"will_place\"]}\n            queryFormat=\"and\"\n            placeholder=\"Commune\"\n            title=\"Commune d'origine\"\n            iconPosition=\"left\"\n            filterLabel=\"search\"\n            autosuggest={false}\n            URLParams\n          />\n        </Grid>\n      </Grid>\n    </ExpansionPanelDetails>\n  </ExpansionPanel>\n);\n\nexport default CustumerDataSearch;\n","import React, { Component } from \"react\";\nimport \"./../styles/App.css\";\nimport \"./../styles/leftBar.css\";\nimport { ReactiveBase } from \"@appbaseio/reactivesearch\";\nimport ContributorFilters from \"./search/ContributorFilters\";\nimport InstitutionFilter from \"./search/InstitutionFilter\";\nimport Results from \"./search/Results\";\nimport DateFilter from \"./search/DateFilter\";\nimport { Grid, Select, MenuItem, Paper } from \"@material-ui/core\";\nimport CustumerDataSearch from \"./search/DataSearch\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUpOutlined\";\nimport TrendingDownIcon from \"@material-ui/icons/TrendingDownOutlined\";\nimport { getParamConfig } from \"../utils/functions\";\nimport TextSearch from \"./search/TextSearch\";\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      field: \"\",\n      order: \"\",\n      value: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(event) {\n    switch (event.target.value) {\n      case 1:\n        this.setState({\n          value: event.target.value,\n          field: \"testator_name_norm.keyword\",\n          order: \"asc\"\n        });\n        break;\n      case 2:\n        this.setState({\n          value: event.target.value,\n          field: \"testator_name_norm.keyword\",\n          order: \"desc\"\n        });\n        break;\n      case 5:\n        this.setState({\n          value: event.target.value,\n          field: \"will_identifier.cote.keyword\",\n          order: \"asc\"\n        });\n        break;\n      case 6:\n        this.setState({\n          value: event.target.value,\n          field: \"will_identifier.cote.keyword\",\n          order: \"desc\"\n        });\n        break;\n      default:\n        this.setState({\n          value: event.target.value,\n          field: \"\",\n          order: \"\"\n        });\n        break;\n    }\n  }\n  render() {\n    return (\n      <ReactiveBase\n        app={getParamConfig(\"es_index_wills\")}\n        url={getParamConfig(\"es_host\")}\n        type=\"_doc\"\n      >\n        <div className=\"search\">\n          <Grid container justify=\"center\" direction=\"row\" spacing={1}>\n            <Grid item xs={2}>\n              <div className=\"leftSidebar\">\n                <Paper>\n                  Trier par :{\" \"}\n                  <Select value={this.state.value} onChange={this.handleChange}>\n                    <MenuItem value={0}>pertinence</MenuItem>\n                    <MenuItem value={1}>nom de famille (A-Z)</MenuItem>\n                    <MenuItem value={2}>nom de famille (Z-A)</MenuItem>\n                    <MenuItem value={3}>\n                      date de rédaction <TrendingUpIcon />\n                    </MenuItem>\n                    <MenuItem value={4}>\n                      date de rédaction <TrendingDownIcon />\n                    </MenuItem>\n                    <MenuItem value={5}>Cote (A-Z)</MenuItem>\n                    <MenuItem value={6}>Cote (Z-A)</MenuItem>\n                  </Select>\n                </Paper>\n                <CustumerDataSearch />\n                <Paper>\n                  <DateFilter />\n                </Paper>\n\n                <Paper>\n                  <InstitutionFilter />\n                </Paper>\n                <Paper>\n                  <ContributorFilters />\n                </Paper>\n              </div>\n            </Grid>\n            <Grid item xs={10}>\n              <div style={{ display: \"flex\" }}>\n                <Results field={this.state.field} order={this.state.order} />\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </ReactiveBase>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport {\n  createStyled,\n  getParamConfig,\n  getHitsFromQuery,\n  getTotalHits\n} from \"../utils/functions\";\nimport {\n  Breadcrumbs,\n  Paper,\n  Link,\n  Typography,\n  Grid,\n  IconButton,\n  MenuList,\n  MenuItem\n} from \"@material-ui/core\";\nimport MoreIcon from \"@material-ui/icons/More\";\nimport { ReactiveBase, ReactiveList } from \"@appbaseio/reactivesearch\";\nimport classNames from \"classnames\";\n\nconst { ResultListWrapper } = ReactiveList;\n\nconst Styled = createStyled(theme => ({\n  root: {\n    flexWrap: \"wrap\",\n    margin: theme.spacing(2, 0, 0, 2)\n  },\n  list: {\n    width: \"60%\",\n    border: \"1px solid #dadce0\",\n    margin: \"auto\",\n    marginTop: theme.spacing(4)\n  },\n  detail: {\n    border: \"1px solid #dadce0\",\n    marginTop: theme.spacing(4)\n  },\n  item: {\n    textAlign: \"justify\",\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    backgroundColor: \"#f5f5f5\"\n  },\n  foot: {\n    fontSize: 14,\n    margin: theme.spacing(1)\n  },\n  head: {\n    fontSize: 14,\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  title: {\n    color: \"#000000\",\n    fontSize: \"1.5em\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  menu: {\n    marginTop: theme.spacing(4),\n    fontSize: 14,\n    textAlign: \"justify\",\n    display: \"block\",\n    verticalAlign: \"middle\"\n  },\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  }\n}));\n\nclass About extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      selectedId: \"\"\n    };\n    this.handleListItemClick = this.handleListItemClick.bind(this);\n  }\n\n  handleListItemClick(event) {\n    /*const itemFind = this.state.lastNews.find(function (item) {\n      return item[\"_id\"] === event.target.id;\n    });*/\n\n    this.setState({\n      selectedId: event.target.id\n    });\n  }\n\n  componentDidMount() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"about/\");\n\n    const totalHits = getTotalHits(\n      getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\")\n    );\n    const total = typeof totalHits === \"object\" ? totalHits.value : totalHits;\n\n    const newData = getHitsFromQuery(\n      getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n      JSON.stringify({\n        size: total,\n        query: {\n          term: {\n            type: 3\n          }\n        },\n        sort: [{ created: { order: \"desc\" } }]\n      })\n    );\n\n    if (idx !== -1) {\n      const id_query = url.substring(idx + 6).split(\"/\");\n      const hits = getHitsFromQuery(\n        getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n        JSON.stringify({\n          query: {\n            term: {\n              _id: id_query[0]\n            }\n          }\n        })\n      );\n      this.setState({\n        data: newData,\n        selectedId: hits.length > 0 ? hits[0][\"_id\"] : newData[0][\"_id\"]\n      });\n    } else {\n      this.setState({\n        data: newData,\n        selectedId: newData.length > 0 ? newData[0][\"_id\"] : \"\"\n      });\n    }\n  }\n\n  render() {\n    const curItem =\n      this.state.selectedId === \"\"\n        ? this.state.data[0]\n        : this.state.data.find(\n            function(item) {\n              return item[\"_id\"] === this.state.selectedId;\n            }.bind(this)\n          );\n\n    const prevLink = document.referrer.includes(\"search?\")\n      ? \"/search?\" + document.referrer.split(\"?\")[1]\n      : \"/search\";\n    const currLink = [\n      <Link\n        id=\"about\"\n        key={1}\n        color=\"inherit\"\n        component={RouterLink}\n        to=\"/about\"\n      >\n        {\" \"}\n        A propos{\" \"}\n      </Link>,\n      <Typography key={2} color=\"textPrimary\">\n        {curItem ? curItem._source[\"title\"] : null}\n      </Typography>\n    ];\n\n    const navBar = (\n      <Paper elevation={0}>\n        <Breadcrumbs\n          separator={<NavigateNextIcon fontSize=\"small\" />}\n          aria-label=\"Breadcrumb\"\n        >\n          <Link\n            id=\"search\"\n            key={0}\n            color=\"inherit\"\n            component={RouterLink}\n            to={prevLink}\n          >\n            {\" \"}\n            Recherche{\" \"}\n          </Link>\n          {currLink}\n        </Breadcrumbs>\n      </Paper>\n    );\n\n    const menuAbout = (\n      <Styled>\n        {({ classes }) => (\n          <Paper className={classes.menu}>\n            <MenuList>\n              {this.state.data.map((item, i) => (\n                <MenuItem key={i}>\n                  <Link\n                    id={item[\"_id\"]}\n                    className={\n                      this.state.selectedId === item[\"_id\"]\n                        ? classNames(classes.link, classes.activedLink)\n                        : classes.link\n                    }\n                    component={RouterLink}\n                    to={\"/about/\" + item[\"_id\"]}\n                    onClick={this.handleListItemClick}\n                  >\n                    {item._source[\"title\"]}\n                  </Link>\n                </MenuItem>\n              ))}\n            </MenuList>\n          </Paper>\n        )}\n      </Styled>\n    );\n\n    const date = Boolean(curItem) ? new Date(curItem._source[\"created\"]) : null;\n\n    return (\n      <Styled>\n        {({ classes }) =>\n          Boolean(curItem) ? (\n            <div className={classes.root}>\n              {navBar}\n\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={4}>\n                  {menuAbout}\n                </Grid>\n                <Grid item xs={8}>\n                  <div className={classes.detail}>\n                    <Paper className={classes.item} key={0}>\n                      <Typography className={classes.title}>\n                        {\" \"}\n                        {curItem._source[\"title\"]}{\" \"}\n                      </Typography>\n                      <Paper className={classes.head}>\n                        <Grid\n                          container\n                          direction=\"row\"\n                          justify=\"space-between\"\n                          alignItems=\"center\"\n                        >\n                          <Grid item>{curItem._source[\"author\"]}</Grid>\n                          <Grid item>\n                            {Boolean(date)\n                              ? \"Mise à jour le \" +\n                                date.toLocaleDateString() +\n                                \" à \" +\n                                date.toLocaleTimeString()\n                              : \"\"}\n                          </Grid>\n                        </Grid>\n                      </Paper>\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html:\n                            curItem._source[\"detail\"] !== \"\"\n                              ? curItem._source[\"detail\"]\n                              : curItem._source[\"summary\"]\n                        }}\n                      ></div>\n                    </Paper>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          ) : (\n            <Typography variant=\"h3\">\n              Aucune information à afficher !\n            </Typography>\n          )\n        }\n      </Styled>\n    );\n  }\n}\n\nexport default About;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport {\n  createStyled,\n  getParamConfig,\n  getHitsFromQuery,\n  getHits\n} from \"../utils/functions\";\nimport {\n  Breadcrumbs,\n  Paper,\n  Link,\n  Typography,\n  Grid,\n  IconButton,\n  MenuList,\n  MenuItem\n} from \"@material-ui/core\";\nimport MoreIcon from \"@material-ui/icons/More\";\nimport { ReactiveBase, ReactiveList } from \"@appbaseio/reactivesearch\";\nimport classNames from \"classnames\";\n\nconst { ResultListWrapper } = ReactiveList;\n\nconst Styled = createStyled(theme => ({\n  root: {\n    flexWrap: \"wrap\",\n    margin: theme.spacing(2, 0, 0, 2)\n  },\n  list: {\n    width: \"60%\",\n    border: \"1px solid #dadce0\",\n    margin: \"auto\",\n    marginTop: theme.spacing(4)\n  },\n  detail: {\n    border: \"1px solid #dadce0\",\n    marginTop: theme.spacing(4)\n  },\n  item: {\n    textAlign: \"justify\",\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    backgroundColor: \"#f5f5f5\"\n  },\n  foot: {\n    fontSize: 14,\n    margin: theme.spacing(1)\n  },\n  head: {\n    fontSize: 14,\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  title: {\n    color: \"#000000\",\n    fontSize: \"1.5em\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  menu: {\n    marginTop: theme.spacing(4),\n    fontSize: 14,\n    textAlign: \"justify\",\n    display: \"block\",\n    verticalAlign: \"middle\"\n  },\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  }\n}));\n\nclass News extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      item: null,\n      lastNews: [],\n      selectedId: \"\"\n    };\n    this.handleMoreClick = this.handleMoreClick.bind(this);\n    this.defaultQuery = this.defaultQuery.bind(this);\n    this.handleListItemClick = this.handleListItemClick.bind(this);\n  }\n\n  handleListItemClick(event) {\n    const itemFind = this.state.lastNews.find(function(item) {\n      return item[\"_id\"] === event.target.id;\n    });\n\n    this.setState({\n      selectedId: event.target.id,\n      item: itemFind ? itemFind._source : this.state.item\n    });\n  }\n\n  handleMoreClick(item) {\n    return function(e) {\n      document.location.href =\n        getParamConfig(\"web_url\") + \"/news/\" + item[\"_id\"];\n    }.bind(this);\n  }\n\n  defaultQuery() {\n    return {\n      query: {\n        term: {\n          type: 2\n        }\n      }\n    };\n  }\n\n  componentDidUpdate() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"news/\");\n    if (idx === -1 && Boolean(this.state.item)) {\n      this.setState({\n        item: null\n      });\n    }\n  }\n\n  componentDidMount() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"news/\");\n\n    const newData = getHitsFromQuery(\n      getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n      JSON.stringify({\n        size: 5,\n        query: {\n          term: {\n            type: 2\n          }\n        },\n        sort: [{ created: { order: \"desc\" } }]\n      })\n    );\n    if (idx !== -1) {\n      const id_query = url.substring(idx + 5).split(\"/\");\n      const hits = getHitsFromQuery(\n        getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n        JSON.stringify({\n          query: {\n            term: {\n              _id: id_query[0]\n            }\n          }\n        })\n      );\n\n      this.setState({\n        lastNews: newData,\n        selectedId: hits.length > 0 ? hits[0][\"_id\"] : newData[0][\"_id\"],\n        item: hits.length > 0 ? hits[0]._source : null\n      });\n    }\n  }\n\n  render() {\n    const prevLink = document.referrer.includes(\"search?\")\n      ? \"/search?\" + document.referrer.split(\"?\")[1]\n      : \"/search\";\n    const currLink = !Boolean(this.state.item) ? (\n      <Link\n        id=\"news\"\n        key={1}\n        color=\"textPrimary\"\n        component={RouterLink}\n        to=\"/news\"\n      >\n        {\" \"}\n        Actualités{\" \"}\n      </Link>\n    ) : (\n      [\n        <Link\n          id=\"news\"\n          key={1}\n          color=\"inherit\"\n          component={RouterLink}\n          to=\"/news\"\n        >\n          {\" \"}\n          Actualités{\" \"}\n        </Link>,\n        <Typography key={2} color=\"textPrimary\">\n          {this.state.item[\"title\"]}\n        </Typography>\n      ]\n    );\n    const navBar = (\n      <Paper elevation={0}>\n        <Breadcrumbs\n          separator={<NavigateNextIcon fontSize=\"small\" />}\n          aria-label=\"Breadcrumb\"\n        >\n          <Link\n            id=\"search\"\n            key={0}\n            color=\"inherit\"\n            component={RouterLink}\n            to={prevLink}\n          >\n            {\" \"}\n            Recherche{\" \"}\n          </Link>\n          {currLink}\n        </Breadcrumbs>\n      </Paper>\n    );\n\n    const menuNews = (\n      <Styled>\n        {({ classes }) => (\n          <Paper className={classes.menu}>\n            <Typography>Les dernières actualités :</Typography>\n            <MenuList>\n              {this.state.lastNews.map((item, i) => (\n                <MenuItem key={i}>\n                  <Link\n                    id={item[\"_id\"]}\n                    className={\n                      this.state.selectedId === item[\"_id\"]\n                        ? classNames(classes.link, classes.activedLink)\n                        : classes.link\n                    }\n                    component={RouterLink}\n                    to={\"/news/\" + item[\"_id\"]}\n                    onClick={this.handleListItemClick}\n                  >\n                    {item._source[\"title\"]}\n                  </Link>\n                </MenuItem>\n              ))}\n            </MenuList>\n          </Paper>\n        )}\n      </Styled>\n    );\n\n    const date = Boolean(this.state.item)\n      ? new Date(this.state.item[\"created\"])\n      : null;\n\n    return (\n      <Styled>\n        {({ classes }) =>\n          Boolean(this.state.item) ? (\n            <div className={classes.root}>\n              {navBar}\n\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={4}>\n                  {menuNews}\n                </Grid>\n                <Grid item xs={8}>\n                  <div className={classes.detail}>\n                    <Paper className={classes.item} key={0}>\n                      <Typography className={classes.title}>\n                        {\" \"}\n                        {this.state.item[\"title\"]}{\" \"}\n                      </Typography>\n                      <Paper className={classes.head}>\n                        <Grid\n                          container\n                          direction=\"row\"\n                          justify=\"space-between\"\n                          alignItems=\"center\"\n                        >\n                          <Grid item>{this.state.item[\"author\"]}</Grid>\n                          <Grid item>\n                            {Boolean(date)\n                              ? \"Mise à jour le \" +\n                                date.toLocaleDateString() +\n                                \" à \" +\n                                date.toLocaleTimeString()\n                              : \"\"}\n                          </Grid>\n                        </Grid>\n                      </Paper>\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html:\n                            this.state.item[\"detail\"] !== \"\"\n                              ? this.state.item[\"detail\"]\n                              : this.state.item[\"summary\"]\n                        }}\n                      ></div>\n                    </Paper>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          ) : (\n            <ReactiveBase\n              app={getParamConfig(\"es_index_cms\")}\n              url={getParamConfig(\"es_host\")}\n              type=\"_doc\"\n            >\n              <div className={classes.root}>\n                {navBar}\n                <div className={classes.list}>\n                  <ReactiveList\n                    dataField=\"created\"\n                    componentId=\"news_id\"\n                    stream={true}\n                    pagination={false}\n                    paginationAt=\"bottom\"\n                    size={5}\n                    pages={10}\n                    sortBy=\"desc\"\n                    showEndPage={false}\n                    renderResultStats={function(stats) {\n                      return <h6>{stats.numberOfResults} actualités</h6>;\n                    }}\n                    URLParams={false}\n                    defaultQuery={this.defaultQuery}\n                  >\n                    {({ data, error, loading }) => (\n                      <ResultListWrapper>\n                        {data.map((item, j) => {\n                          const date = new Date(item[\"created\"]);\n                          return (\n                            <Paper className={classes.item} key={j}>\n                              <Typography className={classes.title}>\n                                {\" \"}\n                                {item[\"title\"]}{\" \"}\n                              </Typography>\n                              <div\n                                dangerouslySetInnerHTML={{\n                                  __html:\n                                    item[\"summary\"] !== \"\"\n                                      ? item[\"summary\"]\n                                      : item[\"detail\"]\n                                }}\n                              ></div>\n                              <Paper className={classes.foot}>\n                                <Grid\n                                  container\n                                  direction=\"row\"\n                                  justify=\"space-between\"\n                                  alignItems=\"center\"\n                                >\n                                  <Grid item>{item[\"author\"]}</Grid>\n                                  <Grid item>\n                                    {\"Mise à jour le \"}\n                                    {date.toLocaleDateString()}\n                                    {\" à \"}\n                                    {date.toLocaleTimeString()}\n                                  </Grid>\n                                  <Grid item>\n                                    <IconButton\n                                      aria-label=\"More\"\n                                      onClick={this.handleMoreClick(item)}\n                                    >\n                                      <MoreIcon className={classes.icon} />\n                                    </IconButton>\n                                  </Grid>\n                                </Grid>\n                              </Paper>\n                            </Paper>\n                          );\n                        })}\n                      </ResultListWrapper>\n                    )}\n                  </ReactiveList>\n                </div>\n              </div>\n            </ReactiveBase>\n          )\n        }\n      </Styled>\n    );\n  }\n}\n\nexport default News;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { ReactiveBase, ReactiveList } from \"@appbaseio/reactivesearch\";\nimport WillDisplay from \"./WillDisplay\";\nimport {\n  Paper,\n  Select,\n  MenuItem,\n  Breadcrumbs,\n  Link,\n  Typography\n} from \"@material-ui/core\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUpOutlined\";\nimport TrendingDownIcon from \"@material-ui/icons/TrendingDownOutlined\";\nimport \"../styles/Wills.css\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport { getParamConfig, createStyled } from \"../utils/functions\";\nimport classNames from \"classnames\";\n\nconst { ResultListWrapper } = ReactiveList;\n\nconst Styled = createStyled(theme => ({\n  explorMenu: {\n    marginTop: theme.spacing(2)\n  },\n  menu: {\n    display: \"flex\"\n  },\n\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  },\n  linkPage: {\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 400,\n    \"&:hover\": {\n      color: \"#0091EA\"\n    }\n  },\n  selectedLink: {\n    fontWeight: 600,\n    color: \"#0091EA\",\n    fontSize: 18\n  }\n}));\n\nexport function ExplorMenu() {\n  const [selectedId, setSelectId] = React.useState(\"wills\");\n\n  const handleListItemClick = event => {\n    setSelectId(event.target.id);\n  };\n\n  return (\n    <Styled>\n      {({ classes }) => (\n        <Breadcrumbs aria-label=\"Breadcrumb\" className={classes.explorMenu}>\n          <Link\n            id=\"wills\"\n            className={\n              selectedId === \"wills\"\n                ? classNames(classes.link, classes.activedLink)\n                : classes.link\n            }\n            component={RouterLink}\n            to=\"/wills\"\n            onClick={handleListItemClick}\n          >\n            Les testaments\n          </Link>\n\n          <Link\n            id=\"testators\"\n            className={\n              selectedId === \"testators\"\n                ? classNames(classes.link, classes.activedLink)\n                : classes.link\n            }\n            component={RouterLink}\n            to=\"/testators\"\n            onClick={handleListItemClick}\n          >\n            Les testateurs\n          </Link>\n          <Link\n            id=\"places\"\n            className={\n              selectedId === \"places\"\n                ? classNames(classes.link, classes.activedLink)\n                : classes.link\n            }\n            component={RouterLink}\n            to=\"/places\"\n            onClick={handleListItemClick}\n          >\n            Les lieux\n          </Link>\n        </Breadcrumbs>\n      )}\n    </Styled>\n  );\n}\n\nfunction createPageMenu(will_id, pages, idx, handleClick) {\n  let menu = [];\n  let listMenu = { page: \"Page\", envelope: \"Enveloppe\", codicil: \"Codicille\" };\n  for (let i = 0; i < pages.length; i++) {\n    console.log(\n      \"page click :\",\n      pages[i][\"page_type\"].type + \"_\" + pages[i][\"page_type\"].id\n    );\n    menu.push(\n      <Styled>\n        {({ classes }) => (\n          <Link\n            id={i}\n            value={i}\n            component=\"button\"\n            color=\"inherit\"\n            onClick={handleClick}\n            className={\n              parseInt(idx) === i\n                ? classNames(classes.typography, classes.selectedLink)\n                : classNames(classes.linkPage, classes.typography)\n            }\n          >\n            {listMenu[pages[i][\"page_type\"].type]} {pages[i][\"page_type\"].id}\n          </Link>\n        )}\n      </Styled>\n    );\n  }\n  return (\n    <Breadcrumbs\n      style={{ marginTop: 20, marginBottom: 20 }}\n      aria-label=\"Breadcrumb\"\n    >\n      {\" \"}\n      {menu}{\" \"}\n    </Breadcrumbs>\n  );\n}\n\nclass Wills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      field: \"\",\n      order: \"\",\n      value: 3\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    switch (event.target.value) {\n      case 1:\n        this.setState({\n          value: event.target.value,\n          field: \"testator_name_norm.keyword\",\n          order: \"asc\"\n        });\n        break;\n      case 2:\n        this.setState({\n          value: event.target.value,\n          field: \"testator_name_norm.keyword\",\n          order: \"desc\"\n        });\n        break;\n      case 3:\n        this.setState({\n          value: event.target.value,\n          field: \"will_contents.will_date\",\n          order: \"asc\"\n        });\n        break;\n      case 4:\n        this.setState({\n          value: event.target.value,\n          field: \"will_contents.will_date\",\n          order: \"desc\"\n        });\n        break;\n      case 5:\n        this.setState({\n          value: event.target.value,\n          field: \"will_identifier.cote.keyword\",\n          order: \"asc\"\n        });\n        break;\n      case 6:\n        this.setState({\n          value: event.target.value,\n          field: \"will_identifier.cote.keyword\",\n          order: \"desc\"\n        });\n        break;\n      default:\n        this.setState({\n          value: event.target.value,\n          field: \"will_contents.will_date\",\n          order: \"asc\"\n        });\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <ReactiveBase\n        app={getParamConfig(\"es_index_wills\")}\n        url={getParamConfig(\"es_host\")}\n        type=\"_doc\"\n      >\n        <ExplorMenu />\n        <div className=\"wills_menu\">\n          <Paper elevation={0}>\n            <Breadcrumbs\n              separator={<NavigateNextIcon fontSize=\"small\" />}\n              aria-label=\"Breadcrumb\"\n            >\n              <Link\n                id=\"search\"\n                key={0}\n                color=\"inherit\"\n                component={RouterLink}\n                to=\"/search\"\n              >\n                {\" \"}\n                Recherche{\" \"}\n              </Link>\n              <Typography color=\"textPrimary\">Les testaments</Typography>\n            </Breadcrumbs>\n          </Paper>\n        </div>\n        <div className=\"wills_order\">\n          Trier par :\n          <Select value={this.state.value} onChange={this.handleChange}>\n            <MenuItem value={1}>nom de famille (A-Z)</MenuItem>\n            <MenuItem value={2}>nom de famille (Z-A)</MenuItem>\n            <MenuItem value={3}>\n              date de rédaction <TrendingUpIcon />\n            </MenuItem>\n            <MenuItem value={4}>\n              date de rédaction <TrendingDownIcon />\n            </MenuItem>\n            <MenuItem value={5}>Cote (A-Z)</MenuItem>\n            <MenuItem value={6}>Cote (Z-A)</MenuItem>\n          </Select>\n        </div>\n\n        <div>\n          <ReactiveList\n            dataField={this.state.field}\n            componentId=\"will\"\n            stream={true}\n            pagination={true}\n            paginationAt=\"top\"\n            size={1}\n            pages={10}\n            sortBy={this.state.order}\n            showEndPage={false}\n            renderResultStats={function(stats) {\n              return `${stats.numberOfResults} testaments trouvés.`;\n            }}\n            URLParams={true}\n          >\n            {({ data, error, loading }) => (\n              <ResultListWrapper>\n                {data.map((item, j) => {\n                  return (\n                    <div className=\"root\" key={j}>\n                      <Paper>\n                        <WillDisplay\n                          data={item}\n                          createPageMenu={createPageMenu}\n                        />\n                      </Paper>\n                    </div>\n                  );\n                })}\n              </ResultListWrapper>\n            )}\n          </ReactiveList>\n        </div>\n      </ReactiveBase>\n    );\n  }\n}\n\nexport default Wills;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink, withRouter } from \"react-router-dom\";\nimport { AppBar, Link, Breadcrumbs } from \"@material-ui/core\";\nimport classNames from \"classnames\";\n\nimport {\n  createStyled,\n  getParamConfig,\n  getUserToken\n} from \"../../utils/functions\";\n\nconst Styled = createStyled(theme => ({\n  menu: {\n    display: \"flex\"\n  },\n\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  }\n}));\n\nclass Menu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedId: \"profile\",\n      myData: null\n    };\n    this.handleListItemClick = this.handleListItemClick.bind(this);\n    this.tabLinks = [\"profile\", \"panier\", \"cms\"];\n  }\n\n  handleListItemClick(event) {\n    this.setState({\n      selectedId: event.target.id\n    });\n  }\n\n  componentDidMount() {\n    const findLink = this.tabLinks.find(link =>\n      document.location.href.includes(link)\n    );\n    const myToken = getUserToken();\n    if (myToken) {\n      this.setState({\n        myData: myToken,\n        selectedId: findLink\n      });\n    } else {\n      window.location.replace(getParamConfig(\"web_url\") + \"/login\");\n    }\n  }\n\n  render() {\n    return this.state.myData ? (\n      <Styled>\n        {({ classes }) => (\n          <Breadcrumbs aria-label=\"Breadcrumb\">\n            <Link\n              id=\"profile\"\n              className={\n                this.state.selectedId === \"profile\"\n                  ? classNames(classes.link, classes.activedLink)\n                  : classes.link\n              }\n              component={RouterLink}\n              to=\"/espace/profile\"\n              onClick={this.handleListItemClick}\n            >\n              Mon profile\n            </Link>\n\n            <Link\n              id=\"panier\"\n              className={\n                this.state.selectedId === \"panier\"\n                  ? classNames(classes.link, classes.activedLink)\n                  : classes.link\n              }\n              component={RouterLink}\n              to=\"/espace/panier\"\n              onClick={this.handleListItemClick}\n            >\n              Mom panier\n            </Link>\n            {this.state.myData.isRoot ? (\n              <Link\n                id=\"cms\"\n                className={\n                  this.state.selectedId === \"cms\"\n                    ? classNames(classes.link, classes.activedLink)\n                    : classes.link\n                }\n                component={RouterLink}\n                to=\"/espace/cms\"\n                onClick={this.handleListItemClick}\n              >\n                Gestion de contenu\n              </Link>\n            ) : null}\n          </Breadcrumbs>\n        )}\n      </Styled>\n    ) : null;\n  }\n}\n\nexport default withRouter(Menu);\n","import React, { Component } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { Typography, List, ListItem, Grid } from \"@material-ui/core\";\n\nimport {\n  createStyled,\n  getUserToken,\n  getParamConfig\n} from \"../../utils/functions\";\nimport Menu from \"../cms/Menu\";\n\nconst Styled = createStyled(theme => ({\n  root: {\n    width: \"100%\",\n    marginTop: theme.spacing(2)\n  },\n  profile: {\n    width: \"60%\",\n    margin: \"auto\",\n    marginTop: theme.spacing(2)\n  }\n}));\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const myToken = getUserToken();\n    if (myToken) {\n      this.setState({\n        first_name: myToken.user_name,\n        last_name: myToken.last_name,\n        email: myToken.email\n      });\n    } else {\n      window.location.replace(getParamConfig(\"web_url\") + \"/login\");\n    }\n  }\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Menu />\n            <div className={classes.profile}>\n              <Grid container direction=\"column\" justify=\"center\">\n                <Grid item>\n                  <Typography variant=\"h3\"> PROFILE</Typography>\n                </Grid>\n                <Grid item>\n                  <List>\n                    <ListItem>\n                      Nom :{\" \"}\n                      <Typography variant=\"h5\">\n                        {this.state.first_name}\n                      </Typography>\n                    </ListItem>\n                    <ListItem>\n                      Prénom :\n                      <Typography variant=\"h5\">\n                        {this.state.last_name}\n                      </Typography>\n                    </ListItem>\n                    <ListItem>\n                      Adresse mail :\n                      <Typography variant=\"h5\">{this.state.email}</Typography>\n                    </ListItem>\n                  </List>\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport { createStyled, getParamConfig } from \"../utils/functions\";\nimport { Breadcrumbs, Paper, Link, Typography } from \"@material-ui/core\";\nimport { ExplorMenu } from \"./Wills\";\n\nconst Styled = createStyled(theme => ({\n  root: {\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    margin: theme.spacing(1, 0, 0, 2)\n  },\n  paper: {\n    padding: theme.spacing(1, 2)\n  }\n}));\n\nclass Testators extends Component {\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <ExplorMenu />\n            <Paper elevation={0} className={classes.paper}>\n              <Breadcrumbs\n                separator={<NavigateNextIcon fontSize=\"small\" />}\n                aria-label=\"Breadcrumb\"\n              >\n                <Link\n                  color=\"inherit\"\n                  href={getParamConfig(\"web_url\") + \"/search\"}\n                >\n                  {\" \"}\n                  Recherche{\" \"}\n                </Link>\n                <Typography color=\"textPrimary\">Les testateurs</Typography>\n              </Breadcrumbs>\n            </Paper>\n            <h1>En cours ...</h1>\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Testators;\n","import React, { Component } from \"react\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport { createStyled, getParamConfig } from \"../utils/functions\";\nimport { Breadcrumbs, Paper, Link, Typography } from \"@material-ui/core\";\nimport { ExplorMenu } from \"./Wills\";\n\nconst Styled = createStyled(theme => ({\n  root: {\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    margin: theme.spacing(1, 0, 0, 2)\n  },\n  paper: {\n    padding: theme.spacing(1, 2)\n  }\n}));\n\nclass Places extends Component {\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <ExplorMenu />\n            <Paper elevation={0} className={classes.paper}>\n              <Breadcrumbs\n                separator={<NavigateNextIcon fontSize=\"small\" />}\n                aria-label=\"Breadcrumb\"\n              >\n                <Link\n                  color=\"inherit\"\n                  href={getParamConfig(\"web_url\") + \"/search\"}\n                >\n                  {\" \"}\n                  Recherche{\" \"}\n                </Link>\n                <Typography color=\"textPrimary\">Les lieux</Typography>\n              </Breadcrumbs>\n            </Paper>\n            <h1>En cours ...</h1>\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Places;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { ReactiveBase, ReactiveList } from \"@appbaseio/reactivesearch\";\nimport WillDisplay from \"./WillDisplay\";\nimport {\n  Paper,\n  Select,\n  MenuItem,\n  Breadcrumbs,\n  Link,\n  Typography\n} from \"@material-ui/core\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUpOutlined\";\nimport TrendingDownIcon from \"@material-ui/icons/TrendingDownOutlined\";\nimport \"../styles/Wills.css\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport { getParamConfig, createStyled } from \"../utils/functions\";\nimport classNames from \"classnames\";\n\nconst { ResultListWrapper } = ReactiveList;\n\nconst Styled = createStyled(theme => ({\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  },\n\n  linkPage: {\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 400,\n    \"&:hover\": {\n      color: \"#0091EA\"\n    }\n  },\n  selectedLink: {\n    fontWeight: 600,\n    color: \"#0091EA\",\n    fontSize: 18\n  }\n}));\n\nfunction createPageMenu(will_id, pages, idx, handleClick) {\n  let menu = [];\n  let listMenu = { page: \"Page\", envelope: \"Enveloppe\", codicil: \"Codicille\" };\n  for (let i = 0; i < pages.length; i++) {\n    console.log(\n      \"page click :\",\n      pages[i][\"page_type\"].type + \"_\" + pages[i][\"page_type\"].id\n    );\n    menu.push(\n      <Styled key={i}>\n        {({ classes }) => (\n          <Link\n            id={i}\n            value={i}\n            component=\"button\"\n            color=\"inherit\"\n            component={RouterLink}\n            to={\n              \"/will/\" +\n              will_id +\n              \"/\" +\n              pages[i][\"page_type\"].type +\n              \"_\" +\n              pages[i][\"page_type\"].id\n            }\n            onClick={handleClick}\n            className={\n              parseInt(idx) === i\n                ? classNames(classes.typography, classes.selectedLink)\n                : classNames(classes.linkPage, classes.typography)\n            }\n          >\n            {listMenu[pages[i][\"page_type\"].type]} {pages[i][\"page_type\"].id}\n          </Link>\n        )}\n      </Styled>\n    );\n  }\n  return (\n    <Breadcrumbs\n      style={{ marginTop: 20, marginBottom: 20 }}\n      aria-label=\"Breadcrumb\"\n    >\n      {\" \"}\n      {menu}{\" \"}\n    </Breadcrumbs>\n  );\n}\n\nclass Will extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query_term: \"\",\n      page: 0\n    };\n\n    this.defaultQuery = this.defaultQuery.bind(this);\n    this.renderFunc = this.renderFunc.bind(this);\n  }\n\n  renderFunc(res) {\n    if (res.loading) {\n      return (\n        <div>\n          <h3>En chargement</h3>\n        </div>\n      );\n    } else if (res.data.length > 0) {\n      return (\n        <div className=\"root\">\n          <Paper>\n            <WillDisplay\n              data={res.data[0]}\n              cur_page={this.state.page}\n              createPageMenu={createPageMenu}\n            />\n          </Paper>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <h3>Pas de résultat</h3>\n        </div>\n      );\n    }\n  }\n  defaultQuery() {\n    const query_term_ = this.state.query_term;\n    return {\n      query: {\n        term: {\n          _id: query_term_\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"will/\");\n    if (idx !== -1) {\n      const url_query = url.substring(idx + 5).split(\"/\");\n      this.setState({\n        query_term: url_query.length > 0 ? url_query[0] : \"\",\n        page:\n          url_query.length > 1\n            ? {\n                type: url_query[1].split(\"_\")[0],\n                id: parseInt(url_query[1].split(\"_\")[1])\n              }\n            : {}\n      });\n    }\n  }\n\n  render() {\n    const prevLink = document.referrer.includes(\"search?\")\n      ? \"/search?\" + document.referrer.split(\"?\")[1]\n      : \"/search\";\n\n    const will_link =\n      this.state.query_term !== \"\" ? (\n        <Typography color=\"textPrimary\" key={2}>\n          {this.state.query_term}\n        </Typography>\n      ) : null;\n\n    return (\n      <ReactiveBase\n        app={getParamConfig(\"es_index_wills\")}\n        url={getParamConfig(\"es_host\")}\n        type=\"_doc\"\n      >\n        <div className=\"wills_menu\">\n          <Paper elevation={0}>\n            <Breadcrumbs\n              separator={<NavigateNextIcon fontSize=\"small\" />}\n              aria-label=\"Breadcrumb\"\n            >\n              <Link\n                id=\"search\"\n                key={0}\n                color=\"blue\"\n                component={RouterLink}\n                to={prevLink}\n              >\n                Modifier ma recherche\n              </Link>\n              {will_link}\n            </Breadcrumbs>\n          </Paper>\n        </div>\n\n        <div>\n          <ReactiveList\n            componentId=\"will\"\n            stream={true}\n            pagination={false}\n            URLParams={false}\n            defaultQuery={this.defaultQuery}\n            renderResultStats={function(stats) {\n              return ``;\n            }}\n            render={this.renderFunc}\n          />\n        </div>\n      </ReactiveBase>\n    );\n  }\n}\n\nexport default Will;\n","import React, { Component } from \"react\";\nimport { Paper, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\n\nfunction createStyled(styles, options) {\n  function Styled(props) {\n    const { children, ...other } = props;\n    return children(other);\n  }\n  Styled.propTypes = {\n    children: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n  };\n  return withStyles(styles, options)(Styled);\n}\n\nconst Styled = createStyled(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    backgroundColor: \"#616161\"\n  },\n  text: {\n    fontSize: 24,\n    color: \"#616161\"\n  }\n}));\n\nclass Home extends Component {\n  render() {\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Paper>\n              <Typography className={classes.text}>Home page ...</Typography>\n            </Paper>\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport {\n  createStyled,\n  getParamConfig,\n  getHitsFromQuery\n} from \"../utils/functions\";\nimport {\n  Breadcrumbs,\n  Paper,\n  Link,\n  Typography,\n  Grid,\n  IconButton,\n  MenuList,\n  MenuItem\n} from \"@material-ui/core\";\nimport MoreIcon from \"@material-ui/icons/More\";\nimport { ReactiveBase, ReactiveList } from \"@appbaseio/reactivesearch\";\nimport classNames from \"classnames\";\n\nconst { ResultListWrapper } = ReactiveList;\n\nconst Styled = createStyled(theme => ({\n  root: {\n    flexWrap: \"wrap\",\n    margin: theme.spacing(1, 0, 0, 2)\n  },\n  list: {\n    width: \"60%\",\n    border: \"1px solid #dadce0\",\n    margin: \"auto\",\n    marginTop: theme.spacing(4)\n  },\n  detail: {\n    border: \"1px solid #dadce0\",\n    marginTop: theme.spacing(4)\n  },\n  item: {\n    textAlign: \"justify\",\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    backgroundColor: \"#f5f5f5\"\n  },\n  foot: {\n    fontSize: 14,\n    margin: theme.spacing(1)\n  },\n  head: {\n    fontSize: 14,\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  title: {\n    color: \"#000000\",\n    fontSize: \"1.5em\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  menu: {\n    marginTop: theme.spacing(4),\n    fontSize: 14,\n    textAlign: \"justify\",\n    display: \"block\",\n    verticalAlign: \"middle\"\n  },\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  }\n}));\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastArticles: [],\n      selectedId: \"\",\n      item: null\n    };\n    this.handleMoreClick = this.handleMoreClick.bind(this);\n    this.defaultQuery = this.defaultQuery.bind(this);\n    this.handleListItemClick = this.handleListItemClick.bind(this);\n  }\n\n  handleListItemClick(event) {\n    const itemFind = this.state.lastArticles.find(function(item) {\n      return item[\"_id\"] === event.target.id;\n    });\n\n    this.setState({\n      selectedId: event.target.id,\n      item: itemFind ? itemFind._source : this.state.item\n    });\n  }\n\n  handleMoreClick(item) {\n    return function(e) {\n      document.location.href =\n        getParamConfig(\"web_url\") + \"/articles/\" + item[\"_id\"];\n    }.bind(this);\n  }\n\n  defaultQuery() {\n    return {\n      query: {\n        term: {\n          type: 1\n        }\n      }\n    };\n  }\n\n  componentDidUpdate() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"articles/\");\n    if (idx === -1 && Boolean(this.state.item)) {\n      this.setState({\n        item: null\n      });\n    }\n  }\n\n  componentDidMount() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"articles/\");\n\n    const newData = getHitsFromQuery(\n      getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n      JSON.stringify({\n        size: 5,\n        query: {\n          term: {\n            type: 1\n          }\n        },\n        sort: [{ created: { order: \"desc\" } }]\n      })\n    );\n    if (idx !== -1) {\n      const id_query = url.substring(idx + 9).split(\"/\");\n      const hits = getHitsFromQuery(\n        getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\"),\n        JSON.stringify({\n          query: {\n            term: {\n              _id: id_query[0]\n            }\n          }\n        })\n      );\n\n      this.setState({\n        lastArticles: newData,\n        selectedId: hits.length > 0 ? hits[0][\"_id\"] : newData[0][\"_id\"],\n        item: hits.length > 0 ? hits[0]._source : null\n      });\n    }\n  }\n\n  render() {\n    const prevLink = document.referrer.includes(\"search?\")\n      ? \"/search?\" + document.referrer.split(\"?\")[1]\n      : \"/search\";\n    const currLink = !Boolean(this.state.item) ? (\n      <Link\n        id=\"articles\"\n        key={1}\n        color=\"textPrimary\"\n        component={RouterLink}\n        to=\"/articles\"\n      >\n        {\" \"}\n        L'état de l'art{\" \"}\n      </Link>\n    ) : (\n      [\n        <Link\n          id=\"articles\"\n          key={1}\n          color=\"inherit\"\n          component={RouterLink}\n          to=\"/articles\"\n        >\n          {\" \"}\n          L'état de l'art{\" \"}\n        </Link>,\n        <Typography key={2} color=\"textPrimary\">\n          {this.state.item[\"title\"]}\n        </Typography>\n      ]\n    );\n    const navLink = (\n      <Paper elevation={0}>\n        <Breadcrumbs\n          separator={<NavigateNextIcon fontSize=\"small\" />}\n          aria-label=\"Breadcrumb\"\n        >\n          <Link\n            id=\"search\"\n            key={0}\n            color=\"inherit\"\n            component={RouterLink}\n            to={prevLink}\n          >\n            {\" \"}\n            Recherche{\" \"}\n          </Link>\n          {currLink}\n        </Breadcrumbs>\n      </Paper>\n    );\n\n    const menuArticles = (\n      <Styled>\n        {({ classes }) => (\n          <Paper className={classes.menu}>\n            <Typography>Les dernières articles :</Typography>\n            <MenuList>\n              {this.state.lastArticles.map((item, i) => (\n                <MenuItem key={i}>\n                  <Link\n                    id={item[\"_id\"]}\n                    className={\n                      this.state.selectedId === item[\"_id\"]\n                        ? classNames(classes.link, classes.activedLink)\n                        : classes.link\n                    }\n                    component={RouterLink}\n                    to={\"/articles/\" + item[\"_id\"]}\n                    onClick={this.handleListItemClick}\n                  >\n                    {item._source[\"title\"]}\n                  </Link>\n                </MenuItem>\n              ))}\n            </MenuList>\n          </Paper>\n        )}\n      </Styled>\n    );\n\n    const date = Boolean(this.state.item)\n      ? new Date(this.state.item[\"created\"])\n      : null;\n    return (\n      <Styled>\n        {({ classes }) =>\n          Boolean(this.state.item) ? (\n            <div id=\"root\" className={classes.root}>\n              {navLink}\n\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={4}>\n                  {menuArticles}\n                </Grid>\n                <Grid item xs={8}>\n                  <div className={classes.detail}>\n                    <Paper className={classes.item} key={0}>\n                      <Typography className={classes.title}>\n                        {\" \"}\n                        {this.state.item[\"title\"]}{\" \"}\n                      </Typography>\n                      <Paper className={classes.head}>\n                        <Grid\n                          container\n                          direction=\"row\"\n                          justify=\"space-between\"\n                          alignItems=\"center\"\n                        >\n                          <Grid item>{this.state.item[\"author\"]}</Grid>\n                          <Grid item>\n                            {Boolean(date)\n                              ? \"Mise à jour le \" +\n                                date.toLocaleDateString() +\n                                \" à \" +\n                                date.toLocaleTimeString()\n                              : \"\"}\n                          </Grid>\n                        </Grid>\n                      </Paper>\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html:\n                            this.state.item[\"detail\"] !== \"\"\n                              ? this.state.item[\"detail\"]\n                              : this.state.item[\"summary\"]\n                        }}\n                      ></div>\n                    </Paper>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          ) : (\n            <ReactiveBase\n              app={getParamConfig(\"es_index_cms\")}\n              url={getParamConfig(\"es_host\")}\n              type=\"_doc\"\n            >\n              <div id=\"root\" className={classes.root}>\n                {navLink}\n                <div className={classes.list}>\n                  <ReactiveList\n                    dataField=\"created\"\n                    componentId=\"articles_id\"\n                    stream={true}\n                    pagination={false}\n                    paginationAt=\"bottom\"\n                    size={5}\n                    pages={10}\n                    sortBy=\"desc\"\n                    showEndPage={false}\n                    renderResultStats={function(stats) {\n                      return <h6>{stats.numberOfResults} articles</h6>;\n                    }}\n                    URLParams={false}\n                    defaultQuery={this.defaultQuery}\n                  >\n                    {({ data, error, loading }) => (\n                      <ResultListWrapper>\n                        {data.map((item, j) => {\n                          const date = new Date(item[\"created\"]);\n                          return (\n                            <Paper className={classes.item} key={j}>\n                              <Typography className={classes.title}>\n                                {\" \"}\n                                {item[\"title\"]}{\" \"}\n                              </Typography>\n                              <div\n                                dangerouslySetInnerHTML={{\n                                  __html:\n                                    item[\"summary\"] !== \"\"\n                                      ? item[\"summary\"]\n                                      : item[\"detail\"]\n                                }}\n                              ></div>\n                              <Paper className={classes.foot}>\n                                <Grid\n                                  container\n                                  direction=\"row\"\n                                  justify=\"space-between\"\n                                  alignItems=\"center\"\n                                >\n                                  <Grid item>{item[\"author\"]}</Grid>\n                                  <Grid item>\n                                    {\"Mise à jour le \"}\n                                    {date.toLocaleDateString()}\n                                    {\" à \"}\n                                    {date.toLocaleTimeString()}\n                                  </Grid>\n                                  <Grid item>\n                                    <IconButton\n                                      aria-label=\"More\"\n                                      onClick={this.handleMoreClick(item)}\n                                    >\n                                      <MoreIcon />\n                                    </IconButton>\n                                  </Grid>\n                                </Grid>\n                              </Paper>\n                            </Paper>\n                          );\n                        })}\n                      </ResultListWrapper>\n                    )}\n                  </ReactiveList>\n                </div>\n              </div>\n            </ReactiveBase>\n          )\n        }\n      </Styled>\n    );\n  }\n}\n\nexport default Articles;\n","import React, { Component } from \"react\";\nimport { EditorState, convertToRaw } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\n//import htmlToDraft from \"html-to-draftjs\";\nimport \"../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { createStyled, publish } from \"../../utils/functions\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  InputAdornment,\n  Input,\n  IconButton,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  NativeSelect,\n  Paper\n} from \"@material-ui/core\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\n\nconst Styled = createStyled(theme => ({\n  root: {\n    width: \"60%\",\n    margin: \"auto\"\n  },\n\n  paper: {\n    margin: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  demoEditor: {\n    height: \"15em\",\n    backgroundColor: \"#FAFAFA\"\n  },\n\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  header: {\n    display: \"flex\",\n    color: \"#0d47a1\",\n    fontSize: 24,\n    fontWeight: 600,\n    fontFamily: \"-apple-system\",\n    margin: theme.spacing(2, 0, 3)\n  },\n  title: {\n    display: \"flex\",\n    margin: theme.spacing(3, 0, 0),\n    color: \"#1a1a1a\",\n    fontSize: 18,\n    fontWeight: 600,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  input: {\n    display: \"none\"\n  },\n  img: {\n    width: \"4em\",\n    height: \"4em\"\n  },\n  type: {\n    display: \"flex\",\n    width: \"10em\",\n    margin: theme.spacing(3, 0, 3)\n  }\n}));\n\nfunction uploadImageCallBack(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"https://api.imgur.com/3/image\");\n    xhr.setRequestHeader(\"Authorization\", \"Client-ID XXXXX\");\n    const data = new FormData();\n    data.append(\"image\", file);\n    xhr.send(data);\n    xhr.addEventListener(\"load\", () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener(\"error\", () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\n\nexport default class NewPost extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      editorStateDetail: EditorState.createEmpty(),\n      editorStateResume: EditorState.createEmpty(),\n      title: \"\",\n      fileInput: null,\n      label: null,\n      in_image: null,\n      url_image: \"\",\n      type: 1,\n      author: \"\",\n      message: \"\",\n      openAlert: false\n    };\n  }\n\n  handleTypeChange = event => {\n    this.setState({\n      type: event.target.value\n    });\n  };\n  onEditorStateResumeChange = editorState => {\n    this.setState({\n      editorStateResume: editorState\n    });\n  };\n\n  onEditorStateDetailChange = editorState => {\n    this.setState({\n      editorStateDetail: editorState\n    });\n  };\n\n  handleFileChange = event => {\n    console.log(\"file input :\", event.target.files[0]);\n    if (event.target.files[0]) {\n      const reader = new FileReader();\n      const in_file = event.target.files[0];\n      const image_name = event.target.files[0][\"name\"];\n      reader.onloadend = function(e) {\n        this.setState({\n          in_image: e.target.result,\n          url_image: image_name,\n          out_image: \"\",\n          fileInput: in_file,\n          label: \"\"\n        });\n      }.bind(this);\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  };\n\n  handleChangeText = e => {\n    this.setState({\n      url_image: e.target.value,\n      in_image: null\n    });\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const detail_raw = convertToRaw(\n      this.state.editorStateDetail.getCurrentContent()\n    );\n    const resume_raw = convertToRaw(\n      this.state.editorStateResume.getCurrentContent()\n    );\n    const found_detail = detail_raw[\"blocks\"].find(item => {\n      return item[\"text\"].trim().length > 0;\n    });\n\n    const found_resume = resume_raw[\"blocks\"].find(item => {\n      return item[\"text\"].trim().length > 0;\n    });\n    if (this.state.title) {\n      const item = {\n        title: this.state.title,\n        summary: Boolean(found_resume) ? draftToHtml(resume_raw) : \"\",\n        detail: Boolean(found_detail) ? draftToHtml(detail_raw) : \"\",\n        type: this.state.type,\n        author: this.state.author\n      };\n\n      publish(item).then(res => {\n        if (res.status === 200) {\n          this.setState({\n            openAlert: true,\n            message: res.mess\n          });\n        } else {\n          this.setState({\n            openAlert: true,\n            message: res.err\n          });\n        }\n      });\n    }\n  };\n\n  handleAlertClose = event => {\n    this.setState({\n      openAlert: false,\n      message: \"\"\n    });\n  };\n  render() {\n    let src_img = null;\n    if (this.state.in_image) {\n      src_img = this.state.in_image;\n    } else if (this.state.url_image) {\n      src_img = this.state.url_image;\n    }\n\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Paper className={classes.paper}>\n              <Grid\n                container\n                direction=\"row\"\n                justify=\"space-between\"\n                alignItems=\"center\"\n              >\n                <Grid item>{this.props.backButton}</Grid>\n                <Grid item xs={6}>\n                  <Typography className={classes.header} id=\"postTitle\">\n                    Ajouter un nouveau post\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <form\n                className={classes.form}\n                noValidate\n                onSubmit={this.onSubmit}\n              >\n                <Grid\n                  container\n                  direction=\"row\"\n                  justify=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <Grid item xs={6}>\n                    <TextField\n                      id=\"author\"\n                      variant=\"outlined\"\n                      fullWidth\n                      label=\"Auteur\"\n                      type=\"author\"\n                      name=\"author\"\n                      autoFocus\n                      value={this.state.author}\n                      onChange={this.onChange}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <NativeSelect\n                      id=\"type\"\n                      className={classes.type}\n                      variant=\"outlined\"\n                      value={this.state.type}\n                      name=\"type\"\n                      onChange={this.handleTypeChange}\n                    >\n                      <option value={1}>Article</option>\n                      <option value={2}>Actualité</option>\n                      <option value={3}>A propos</option>\n                    </NativeSelect>\n                  </Grid>\n                </Grid>\n\n                <TextField\n                  id=\"title\"\n                  variant=\"outlined\"\n                  fullWidth\n                  label=\"Titre\"\n                  type=\"title\"\n                  name=\"title\"\n                  autoFocus\n                  value={this.state.title}\n                  onChange={this.onChange}\n                />\n\n                <input\n                  accept=\"image/*\"\n                  className={classes.input}\n                  id=\"contained-button-file\"\n                  type=\"file\"\n                  onChange={this.handleFileChange}\n                />\n                <Grid container alignItems=\"center\" spacing={2}>\n                  <Grid item>\n                    <TextField\n                      id=\"outlined-full-width\"\n                      label=\"Image\"\n                      placeholder=\"Copie url image ici\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      onChange={this.handleChangeText}\n                      name=\"file\"\n                      value={this.state.url_image}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <label htmlFor=\"contained-button-file\">\n                              <Button\n                                component=\"span\"\n                                className={classes.button}\n                              >\n                                <CloudUploadIcon\n                                  className={classes.rightIcon}\n                                />\n                              </Button>\n                            </label>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                  </Grid>\n\n                  <Grid item>\n                    {src_img ? (\n                      <img\n                        src={src_img}\n                        id=\"img\"\n                        alt=\"toto\"\n                        className={classes.img}\n                      />\n                    ) : (\n                      \"\"\n                    )}\n                  </Grid>\n                </Grid>\n                <div>\n                  <Typography className={classes.title}>Résumé</Typography>\n                  <Editor\n                    id=\"editorStateResume\"\n                    editorStateResume={this.state.editorStateResume}\n                    wrapperClassName={classes.demoWrapper}\n                    editorClassName={classes.demoEditor}\n                    onEditorStateChange={this.onEditorStateResumeChange}\n                    toolbar={{\n                      image: {\n                        uploadCallback: uploadImageCallBack,\n                        alt: { present: true, mandatory: true }\n                      }\n                    }}\n                  />\n                </div>\n                <div>\n                  <Typography className={classes.title}>Contenu</Typography>\n                  <Editor\n                    id=\"editorStateDetail\"\n                    editorStateDetail={this.state.editorStateDetail}\n                    wrapperClassName={classes.demoWrapper}\n                    editorClassName={classes.demoEditor}\n                    onEditorStateChange={this.onEditorStateDetailChange}\n                    toolbar={{\n                      image: {\n                        uploadCallback: uploadImageCallBack,\n                        alt: { present: true, mandatory: true }\n                      }\n                    }}\n                  />\n                </div>\n\n                <Button\n                  id=\"btPublication\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  type=\"submit\"\n                >\n                  Publier\n                </Button>\n              </form>\n            </Paper>\n            <this.props.alertMessage\n              message={this.state.message}\n              openAlert={this.state.openAlert}\n              handleClose={this.handleAlertClose}\n            />\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  EditorState,\n  convertToRaw,\n  convertFromHTML,\n  ContentState\n} from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\n//import htmlToDraft from \"html-to-draftjs\";\nimport \"../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { createStyled, publish, updatePost } from \"../../utils/functions\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  InputAdornment,\n  Input,\n  IconButton,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  NativeSelect,\n  Paper\n} from \"@material-ui/core\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\n\nconst Styled = createStyled(theme => ({\n  root: {\n    width: \"60%\",\n    margin: \"auto\"\n  },\n\n  paper: {\n    margin: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  demoEditor: {\n    height: \"15em\",\n    backgroundColor: \"#FAFAFA\"\n  },\n\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  header: {\n    display: \"flex\",\n    color: \"#0d47a1\",\n    fontSize: 24,\n    fontWeight: 600,\n    fontFamily: \"-apple-system\",\n    margin: theme.spacing(2, 0, 3)\n  },\n  title: {\n    display: \"flex\",\n    margin: theme.spacing(3, 0, 0),\n    color: \"#1a1a1a\",\n    fontSize: 18,\n    fontWeight: 600,\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  },\n  input: {\n    display: \"none\"\n  },\n  img: {\n    width: \"4em\",\n    height: \"4em\"\n  },\n  type: {\n    display: \"flex\",\n    width: \"10em\",\n    margin: theme.spacing(3, 0, 3)\n  }\n}));\n\nfunction uploadImageCallBack(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"https://api.imgur.com/3/image\");\n    xhr.setRequestHeader(\"Authorization\", \"Client-ID XXXXX\");\n    const data = new FormData();\n    data.append(\"image\", file);\n    xhr.send(data);\n    xhr.addEventListener(\"load\", () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener(\"error\", () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\n\nexport default class EditPost extends Component {\n  constructor(props) {\n    super();\n    let content_detail = ContentState.createFromBlockArray(\n      convertFromHTML(props.data._source[\"detail\"])\n    );\n    let content_summary = ContentState.createFromBlockArray(\n      convertFromHTML(props.data._source[\"summary\"])\n    );\n    this.state = {\n      editStateDetail:\n        props.data._source[\"detail\"].length > 0\n          ? EditorState.createWithContent(content_detail)\n          : EditorState.createEmpty(),\n      editStateSummary:\n        props.data._source[\"summary\"].length > 0\n          ? EditorState.createWithContent(content_summary)\n          : EditorState.createEmpty(),\n      author: props.data._source[\"author\"],\n      title: props.data._source[\"title\"],\n      fileInput: null,\n      label: null,\n      in_image: null,\n      url_image: \"\",\n      type: props.data._source[\"type\"],\n      message: \"\",\n      openAlert: false\n    };\n  }\n\n  handleTypeChange = event => {\n    this.setState({\n      type: event.target.value\n    });\n  };\n  onEditorStateResumeChange = editStateSummary => {\n    console.log(\"editorState :\", draftToHtml(editStateSummary));\n    this.setState({\n      editStateSummary: editStateSummary\n    });\n  };\n\n  onEditorStateDetailChange = editStateDetail => {\n    this.setState({\n      editStateDetail: editStateDetail\n    });\n  };\n\n  handleFileChange = event => {\n    if (event.target.files[0]) {\n      const reader = new FileReader();\n      const in_file = event.target.files[0];\n      const image_name = event.target.files[0][\"name\"];\n      reader.onloadend = function(e) {\n        this.setState({\n          in_image: e.target.result,\n          url_image: image_name,\n          out_image: \"\",\n          fileInput: in_file,\n          label: \"\"\n        });\n      }.bind(this);\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  };\n\n  handleChangeText = e => {\n    this.setState({\n      url_image: e.target.value,\n      in_image: null\n    });\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const detail_raw = this.state.editStateDetail.hasOwnProperty(\"blocks\")\n      ? this.state.editStateDetail\n      : convertToRaw(this.state.editStateDetail.getCurrentContent());\n    const resume_raw = this.state.editStateSummary.hasOwnProperty(\"blocks\")\n      ? this.state.editStateSummary\n      : convertToRaw(this.state.editStateSummary.getCurrentContent());\n\n    const found_detail = detail_raw[\"blocks\"].find(item => {\n      return item[\"text\"].trim().length > 0;\n    });\n\n    const found_resume = resume_raw[\"blocks\"].find(item => {\n      return item[\"text\"].trim().length > 0;\n    });\n\n    if (this.state.title) {\n      const item = {\n        id: this.props.data[\"_id\"],\n        title: this.state.title,\n        summary: Boolean(found_resume) ? draftToHtml(resume_raw) : \"\",\n        detail: Boolean(found_detail) ? draftToHtml(detail_raw) : \"\",\n        type: this.state.type,\n        author: this.state.author\n      };\n\n      updatePost(item).then(res => {\n        console.log(\"res dans editPost :\", res);\n        if (res.status === 200) {\n          this.setState({\n            openAlert: true,\n            message: res.mess\n          });\n        } else {\n          this.setState({\n            openAlert: true,\n            message: res.err\n          });\n        }\n      });\n    }\n  };\n\n  handleAlertClose = event => {\n    this.setState({\n      openAlert: false,\n      message: \"\"\n    });\n  };\n\n  componentDidMount() {\n    this.setState({\n      author: this.props.data._source[\"author\"],\n      title: this.props.data._source[\"title\"]\n    });\n  }\n\n  render() {\n    let src_img = null;\n    if (this.state.in_image) {\n      src_img = this.state.in_image;\n    } else if (this.state.url_image) {\n      src_img = this.state.url_image;\n    }\n\n    console.log(\"alert \", this.state.openAlert, \" | \", this.state.message);\n    return (\n      <Styled>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Paper className={classes.paper}>\n              <Grid\n                container\n                direction=\"row\"\n                justify=\"space-between\"\n                alignItems=\"center\"\n              >\n                <Grid item>{this.props.backButton}</Grid>\n                <Grid item xs={6}>\n                  <Typography className={classes.header} id=\"postTitle\">\n                    Ajouter un nouveau post\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <form\n                className={classes.form}\n                noValidate\n                onSubmit={this.onSubmit}\n              >\n                <Grid\n                  container\n                  direction=\"row\"\n                  justify=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <Grid item xs={6}>\n                    <TextField\n                      id=\"author\"\n                      variant=\"outlined\"\n                      fullWidth\n                      label=\"Auteur\"\n                      type=\"author\"\n                      name=\"author\"\n                      autoFocus\n                      value={this.state.author}\n                      onChange={this.onChange}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <NativeSelect\n                      id=\"type\"\n                      className={classes.type}\n                      variant=\"outlined\"\n                      value={this.state.type}\n                      name=\"type\"\n                      onChange={this.handleTypeChange}\n                    >\n                      <option value={1}>Article</option>\n                      <option value={2}>Actualité</option>\n                      <option value={3}>A propos</option>\n                    </NativeSelect>\n                  </Grid>\n                </Grid>\n\n                <TextField\n                  id=\"title\"\n                  variant=\"outlined\"\n                  fullWidth\n                  label=\"Titre\"\n                  type=\"title\"\n                  name=\"title\"\n                  autoFocus\n                  value={this.state.title}\n                  onChange={this.onChange}\n                />\n\n                <input\n                  accept=\"image/*\"\n                  className={classes.input}\n                  id=\"contained-button-file\"\n                  type=\"file\"\n                  onChange={this.handleFileChange}\n                />\n                <Grid container alignItems=\"center\" spacing={2}>\n                  <Grid item>\n                    <TextField\n                      id=\"outlined-full-width\"\n                      label=\"Image\"\n                      placeholder=\"Copie url image ici\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      onChange={this.handleChangeText}\n                      name=\"file\"\n                      value={this.state.url_image}\n                      InputProps={{\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <label htmlFor=\"contained-button-file\">\n                              <Button\n                                component=\"span\"\n                                className={classes.button}\n                              >\n                                <CloudUploadIcon\n                                  className={classes.rightIcon}\n                                />\n                              </Button>\n                            </label>\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                  </Grid>\n\n                  <Grid item>\n                    {src_img ? (\n                      <img\n                        src={src_img}\n                        id=\"img\"\n                        alt=\"toto\"\n                        className={classes.img}\n                      />\n                    ) : (\n                      \"\"\n                    )}\n                  </Grid>\n                </Grid>\n                <div>\n                  <Typography className={classes.title}>Résumé</Typography>\n                  <Editor\n                    id=\"editSummary_id\"\n                    defaultEditorState={this.state.editStateSummary}\n                    wrapperClassName={classes.demoWrapper}\n                    editorClassName={classes.demoEditor}\n                    onChange={this.onEditorStateResumeChange}\n                    toolbar={{\n                      image: {\n                        uploadCallback: uploadImageCallBack,\n                        alt: { present: true, mandatory: true }\n                      }\n                    }}\n                  />\n                </div>\n                <div>\n                  <Typography className={classes.title}>Contenu</Typography>\n                  <Editor\n                    id=\"editDetail_id\"\n                    defaultEditorState={this.state.editStateDetail}\n                    wrapperClassName={classes.demoWrapper}\n                    editorClassName={classes.demoEditor}\n                    onChange={this.onEditorStateDetailChange}\n                    toolbar={{\n                      image: {\n                        uploadCallback: uploadImageCallBack,\n                        alt: { present: true, mandatory: true }\n                      }\n                    }}\n                  />\n                </div>\n\n                <Button\n                  id=\"btPublication\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  type=\"submit\"\n                >\n                  Editer\n                </Button>\n              </form>\n            </Paper>\n            <this.props.alertMessage\n              message={this.state.message}\n              openAlert={this.state.openAlert}\n              handleClose={this.handleAlertClose}\n            />\n          </div>\n        )}\n      </Styled>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport {\n  createStyled,\n  getHits,\n  getParamConfig,\n  removePost\n} from \"../../utils/functions\";\nimport {\n  NativeSelect,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Snackbar\n} from \"@material-ui/core\";\nimport PostAddIcon from \"@material-ui/icons/PostAdd\";\nimport NewPost from \"./NewPost\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport EditPost from \"./EditPost\";\nimport Menu from \"./Menu\";\n\nfunction createData(author, title) {\n  return { author, title };\n}\n/*\nconst rows = [\n  createData(\"Cupcake\", 305, 3.7, 67, 4.3),\n  createData(\"Donut\", 452, 25.0, 51, 4.9),\n  createData(\"Eclair\", 262, 16.0, 24, 6.0),\n  createData(\"Frozen yoghurt\", 159, 6.0, 24, 4.0),\n  createData(\"Gingerbread\", 356, 16.0, 49, 3.9),\n  createData(\"Honeycomb\", 408, 3.2, 87, 6.5),\n  createData(\"Ice cream sandwich\", 237, 9.0, 37, 4.3),\n  createData(\"Jelly Bean\", 375, 0.0, 94, 0.0),\n  createData(\"KitKat\", 518, 26.0, 65, 7.0),\n  createData(\"Lollipop\", 392, 0.2, 98, 0.0),\n  createData(\"Marshmallow\", 318, 0, 81, 2.0),\n  createData(\"Nougat\", 360, 19.0, 9, 37.0),\n  createData(\"Oreo\", 437, 18.0, 63, 4.0)\n];\n*/\n\nfunction desc(a, b, orderBy) {\n  if (b._source[orderBy] < a._source[orderBy]) {\n    return -1;\n  }\n  if (b._source[orderBy] > a._source[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy) {\n  return order === \"desc\"\n    ? (a, b) => desc(a, b, orderBy)\n    : (a, b) => -desc(a, b, orderBy);\n}\n\nconst headCells = [\n  { id: \"title\", numeric: false, disablePadding: false, label: \"Titre\" },\n  {\n    id: \"author\",\n    numeric: false,\n    disablePadding: false,\n    label: \"Auteur\"\n  }\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort\n  } = props;\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"default\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={order}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired\n};\n\nconst Styled_1 = createStyled(theme => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1)\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark\n        },\n  title: {\n    flex: \"1 1 100%\",\n    color: \"#0d47a1\",\n    fontSize: 24,\n    fontWeight: 600,\n    fontFamily: \"-apple-system\",\n    margin: theme.spacing(2, 0, 3)\n  }\n}));\n\nconst EnhancedTableToolbar = props => {\n  const { numSelected, selectComponent, addButton, deleteButton } = props;\n\n  return (\n    <Styled_1>\n      {({ classes }) => (\n        <Toolbar\n          className={clsx(classes.root, {\n            [classes.highlight]: numSelected > 0\n          })}\n        >\n          {numSelected === 0 ? addButton : null}\n          {numSelected > 0 ? (\n            <Typography\n              className={classes.title}\n              color=\"inherit\"\n              variant=\"subtitle1\"\n            >\n              {numSelected} sélectionnés\n            </Typography>\n          ) : (\n            <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\">\n              Gestion de contenu\n            </Typography>\n          )}\n\n          {numSelected > 0 ? deleteButton : selectComponent}\n        </Toolbar>\n      )}\n    </Styled_1>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  selectComponent: PropTypes.element.isRequired,\n  addButton: PropTypes.element.isRequired,\n  deleteButton: PropTypes.element.isRequired\n};\nconst AlertMessage = props => {\n  const { openAlert, handleClose, message } = props;\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      key=\"topCenter\"\n      open={openAlert}\n      onClose={handleClose}\n      autoHideDuration={3000}\n      ContentProps={{\n        \"aria-describedby\": \"message-id\"\n      }}\n      message={<span id=\"message-id\">{message}</span>}\n    ></Snackbar>\n  );\n};\n\nAlertMessage.propTypes = {\n  openAlert: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  message: PropTypes.string.isRequired\n};\n\nconst Styled_2 = createStyled(theme => ({\n  root: {\n    width: \"100%\",\n    marginTop: theme.spacing(2)\n  },\n  paper: {\n    width: \"60%\",\n    margin: \"auto\",\n    marginTop: theme.spacing(2)\n  },\n  table: {\n    minWidth: 750\n  },\n  tableWrapper: {\n    overflowX: \"auto\"\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1\n  },\n  backBt: {\n    color: \"#fff\",\n    backgroundColor: \"#1976d2\"\n  },\n  addBt: {\n    color: \"#0d47a1\",\n    fontSize: 35\n  },\n  typeSelect: {\n    display: \"flex\",\n    width: \"10em\",\n    margin: theme.spacing(3, 0, 3)\n  }\n}));\n\nexport default class Manage extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      order: \"asc\",\n      orderBy: \"title\",\n      selected: [],\n      page: 0,\n      rowsPerPage: 5,\n      data: [],\n      selectData: [],\n      type: 1,\n      choice: 2,\n      open: false,\n      openAlert: false,\n      mess: \"\",\n      editData: null\n    };\n  }\n\n  handleRequestSort = (event, property) => {\n    const isDesc =\n      this.state.orderBy === property && this.state.order === \"desc\";\n    this.setState({\n      order: isDesc ? \"asc\" : \"desc\",\n      orderBy: property\n    });\n  };\n\n  handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = this.state.selectData.map(n => n[\"_id\"]);\n      this.setState({\n        selected: newSelecteds\n      });\n\n      return;\n    }\n    this.setState({\n      selected: []\n    });\n  };\n\n  handleClick = (event, name) => {\n    const selectedIndex = this.state.selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(this.state.selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(this.state.selected.slice(1));\n    } else if (selectedIndex === this.state.selected.length - 1) {\n      newSelected = newSelected.concat(this.state.selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        this.state.selected.slice(0, selectedIndex),\n        this.state.selected.slice(selectedIndex + 1)\n      );\n    }\n\n    this.setState({\n      selected: newSelected\n    });\n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setState({\n      page: newPage\n    });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({\n      rowsPerPage: parseInt(event.target.value, 10),\n      page: 0\n    });\n  };\n\n  handleTypeChange = event => {\n    const newSelectData = this.state.data.filter(\n      item =>\n        parseInt(item._source[\"type\"], 10) === parseInt(event.target.value, 10)\n    );\n    console.log(\"newSelectData :\", newSelectData);\n    this.setState({\n      type: event.target.value,\n      selectData: newSelectData\n    });\n  };\n\n  handleAddNewPost = event => {\n    this.setState({\n      choice: 0\n    });\n  };\n\n  handleBackToManager = event => {\n    document.location.reload();\n  };\n\n  handleRemovePost = event => {\n    this.setState({\n      open: true\n    });\n  };\n\n  handleDialogClose = event => {\n    this.setState({\n      open: false\n    });\n  };\n\n  handleDialogConfirm = event => {\n    event.preventDefault();\n    removePost(this.state.selected).then(res => {\n      if (res.status === 200) {\n        this.setState({\n          open: false,\n          openAlert: true,\n          mess: res.mess\n        });\n      } else {\n        this.setState({\n          open: false,\n          openAlert: true,\n          mess: res.err\n        });\n      }\n    });\n  };\n\n  handleAlertClose = event => {\n    document.location.reload();\n  };\n\n  handleUpdatePost = data => {\n    return function(e) {\n      this.setState({\n        choice: 1,\n        editData: data\n      });\n    }.bind(this);\n  };\n\n  componentDidMount() {\n    const newData = getHits(\n      getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_cms\")\n    );\n    const newSelectData = newData.filter(\n      item => item._source[\"type\"] === this.state.type\n    );\n    this.setState({\n      data: newData,\n      selectData: newSelectData\n    });\n  }\n  render() {\n    const isSelected = name => this.state.selected.indexOf(name) !== -1;\n    const emptyRows =\n      this.state.rowsPerPage -\n      Math.min(\n        this.state.rowsPerPage,\n        this.state.selectData.length - this.state.page * this.state.rowsPerPage\n      );\n    const selectComponent = (\n      <Styled_2>\n        {({ classes }) => (\n          <NativeSelect\n            id=\"type\"\n            className={classes.typeSelect}\n            variant=\"outlined\"\n            value={this.state.type}\n            name=\"type\"\n            onChange={this.handleTypeChange}\n          >\n            <option value={1}>Article</option>\n            <option value={2}>Actualité</option>\n            <option value={3}>A propos</option>\n          </NativeSelect>\n        )}\n      </Styled_2>\n    );\n    const addButton = (\n      <Styled_2>\n        {({ classes }) => (\n          <Tooltip title=\"Ajouter un nouveau post\">\n            <IconButton onClick={this.handleAddNewPost} aria-label=\"add\">\n              <PostAddIcon className={classes.addBt} />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Styled_2>\n    );\n    const backButton = (\n      <Styled_2>\n        {({ classes }) => (\n          <Tooltip title=\"Retour dans gestion de contenu\">\n            <Button\n              variant=\"contained\"\n              onClick={this.handleBackToManager}\n              startIcon={<ArrowBackIcon />}\n              className={classes.backBt}\n            >\n              Gestion de contenu\n            </Button>\n          </Tooltip>\n        )}\n      </Styled_2>\n    );\n\n    const deleteButton = (\n      <Tooltip title=\"Suppression de contenu\">\n        <IconButton onClick={this.handleRemovePost} aria-label=\"delete\">\n          <DeleteIcon />\n        </IconButton>\n      </Tooltip>\n    );\n\n    const defaultView = (\n      <Styled_2>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Menu />\n            <Paper className={classes.paper}>\n              <EnhancedTableToolbar\n                numSelected={this.state.selected.length}\n                selectComponent={selectComponent}\n                addButton={addButton}\n                deleteButton={deleteButton}\n              />\n              <div className={classes.tableWrapper}>\n                <Table\n                  className={classes.table}\n                  aria-labelledby=\"tableTitle\"\n                  size={\"medium\"}\n                  aria-label=\"enhanced table\"\n                >\n                  <EnhancedTableHead\n                    classes={classes}\n                    numSelected={this.state.selected.length}\n                    order={this.state.order}\n                    orderBy={this.state.orderBy}\n                    onSelectAllClick={this.handleSelectAllClick}\n                    onRequestSort={this.handleRequestSort}\n                    rowCount={this.state.selectData.length}\n                  />\n                  <TableBody>\n                    {stableSort(\n                      this.state.selectData,\n                      getSorting(this.state.order, this.state.orderBy)\n                    )\n                      .slice(\n                        this.state.page * this.state.rowsPerPage,\n                        this.state.page * this.state.rowsPerPage +\n                          this.state.rowsPerPage\n                      )\n                      .map((row, index) => {\n                        const isItemSelected = isSelected(row[\"_id\"]);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n\n                        return (\n                          <TableRow\n                            hover\n                            onClick={event =>\n                              this.handleClick(event, row[\"_id\"])\n                            }\n                            role=\"checkbox\"\n                            aria-checked={isItemSelected}\n                            tabIndex={-1}\n                            key={row[\"_id\"]}\n                            selected={isItemSelected}\n                          >\n                            <TableCell padding=\"checkbox\">\n                              <Checkbox\n                                checked={isItemSelected}\n                                inputProps={{ \"aria-labelledby\": labelId }}\n                              />\n                            </TableCell>\n                            <TableCell\n                              component=\"th\"\n                              id={labelId}\n                              scope=\"row\"\n                              padding=\"none\"\n                            >\n                              {row._source[\"title\"]}\n                            </TableCell>\n                            <TableCell align=\"left\">\n                              {row._source[\"author\"]}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Tooltip title=\"Mise à jour du contenu\">\n                                <IconButton\n                                  onClick={this.handleUpdatePost(row)}\n                                  aria-label=\"update\"\n                                >\n                                  <EditIcon />\n                                </IconButton>\n                              </Tooltip>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    {emptyRows > 0 && (\n                      <TableRow style={{ height: 53 * emptyRows }}>\n                        <TableCell colSpan={6} />\n                      </TableRow>\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25]}\n                component=\"div\"\n                count={this.state.selectData.length}\n                rowsPerPage={this.state.rowsPerPage}\n                page={this.state.page}\n                backIconButtonProps={{\n                  \"aria-label\": \"previous page\"\n                }}\n                nextIconButtonProps={{\n                  \"aria-label\": \"next page\"\n                }}\n                onChangePage={this.handleChangePage}\n                onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                labelRowsPerPage=\"Lignes par page :\"\n              />\n            </Paper>\n            <Dialog\n              open={this.state.open}\n              onClose={this.handleDialogClose}\n              aria-labelledby=\"draggable-dialog-title\"\n            >\n              <DialogTitle\n                style={{ cursor: \"move\" }}\n                id=\"draggable-dialog-title\"\n              >\n                Confirmation\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  Souhaitez-vous vraiment supprimer les{\" \"}\n                  {this.state.selected.length} éléments sélectionnés ?\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  autoFocus\n                  onClick={this.handleDialogClose}\n                  color=\"primary\"\n                >\n                  Annuler\n                </Button>\n                <Button onClick={this.handleDialogConfirm} color=\"primary\">\n                  Supprimer\n                </Button>\n              </DialogActions>\n            </Dialog>\n            <AlertMessage\n              message={this.state.mess}\n              openAlert={this.state.openAlert}\n              handleClose={this.handleAlertClose}\n            />\n          </div>\n        )}\n      </Styled_2>\n    );\n\n    switch (this.state.choice) {\n      case 0:\n        this.curView = (\n          <NewPost backButton={backButton} alertMessage={AlertMessage} />\n        );\n        break;\n      case 1:\n        this.curView = (\n          <EditPost\n            backButton={backButton}\n            alertMessage={AlertMessage}\n            data={this.state.editData}\n          />\n        );\n        break;\n      case 2:\n        this.curView = defaultView;\n        break;\n      default:\n        this.curView = defaultView;\n        break;\n    }\n    return this.curView;\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport VisibilityIcon from \"@material-ui/icons/VisibilityOutlined\";\nimport ExportIcon from \"@material-ui/icons/SaveAltOutlined\";\nimport CompareIcon from \"@material-ui/icons/CompareOutlined\";\n\nimport {\n  createStyled,\n  getParamConfig,\n  updateMyListWills,\n  getHitsFromQuery,\n  getUserToken\n} from \"../../utils/functions\";\nimport {\n  NativeSelect,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Snackbar,\n  Grid\n} from \"@material-ui/core\";\nimport PostAddIcon from \"@material-ui/icons/PostAdd\";\nimport NewPost from \"./NewPost\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport EditPost from \"./EditPost\";\nimport Menu from \"./Menu\";\n\nfunction createData(author, title) {\n  return { author, title };\n}\n\nfunction desc(a, b, orderBy) {\n  if (b._source[orderBy] < a._source[orderBy]) {\n    return -1;\n  }\n  if (b._source[orderBy] > a._source[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy) {\n  return order === \"desc\"\n    ? (a, b) => desc(a, b, orderBy)\n    : (a, b) => -desc(a, b, orderBy);\n}\n\nconst headCells = [\n  {\n    id: \"will_identifier.name\",\n    numeric: false,\n    disablePadding: false,\n    label: \"Nom de testateur\"\n  }\n];\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort\n  } = props;\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\n          />\n        </TableCell>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding={headCell.disablePadding ? \"none\" : \"default\"}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={order}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired\n};\n\nconst Styled_1 = createStyled(theme => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1)\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark\n        },\n  title: {\n    flex: \"1 1 100%\",\n    color: \"#0d47a1\",\n    fontSize: 24,\n    fontWeight: 600,\n    fontFamily: \"-apple-system\",\n    margin: theme.spacing(2, 0, 3)\n  }\n}));\n\nconst EnhancedTableToolbar = props => {\n  const { numSelected, addButton, actionButton } = props;\n\n  return (\n    <Styled_1>\n      {({ classes }) => (\n        <Toolbar\n          className={clsx(classes.root, {\n            [classes.highlight]: numSelected > 0\n          })}\n        >\n          {numSelected === 0 ? addButton : null}\n          {numSelected > 0 ? (\n            <Typography\n              className={classes.title}\n              color=\"inherit\"\n              variant=\"subtitle1\"\n            >\n              {numSelected} sélectionnés\n            </Typography>\n          ) : (\n            <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\">\n              Mes testaments\n            </Typography>\n          )}\n\n          {numSelected > 0 ? actionButton : null}\n        </Toolbar>\n      )}\n    </Styled_1>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  addButton: PropTypes.element.isRequired,\n  actionButton: PropTypes.element.isRequired\n};\nconst AlertMessage = props => {\n  const { openAlert, handleClose, message } = props;\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      key=\"topCenter\"\n      open={openAlert}\n      onClose={handleClose}\n      autoHideDuration={3000}\n      ContentProps={{\n        \"aria-describedby\": \"message-id\"\n      }}\n      message={<span id=\"message-id\">{message}</span>}\n    ></Snackbar>\n  );\n};\n\nAlertMessage.propTypes = {\n  openAlert: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  message: PropTypes.string.isRequired\n};\n\nconst Styled_2 = createStyled(theme => ({\n  root: {\n    width: \"100%\",\n    marginTop: theme.spacing(2)\n  },\n  paper: {\n    width: \"60%\",\n    margin: \"auto\",\n    marginTop: theme.spacing(2)\n  },\n  table: {\n    minWidth: 750\n  },\n  tableWrapper: {\n    overflowX: \"auto\"\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1\n  },\n  backBt: {\n    color: \"#fff\",\n    backgroundColor: \"#1976d2\"\n  },\n  addBt: {\n    color: \"#0d47a1\",\n    fontSize: 35\n  },\n  typeSelect: {\n    display: \"flex\",\n    width: \"10em\",\n    margin: theme.spacing(3, 0, 3)\n  }\n}));\n\nexport default class MyShoppingCart extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      order: \"asc\",\n      orderBy: \"title\",\n      selected: [],\n      page: 0,\n      rowsPerPage: 5,\n      data: [],\n      choice: 2,\n      open: false,\n      openAlert: false,\n      mess: \"\",\n      editData: null\n    };\n    this.userToken = getUserToken();\n  }\n\n  handleRequestSort = (event, property) => {\n    const isDesc =\n      this.state.orderBy === property && this.state.order === \"desc\";\n    this.setState({\n      order: isDesc ? \"asc\" : \"desc\",\n      orderBy: property\n    });\n  };\n\n  handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = this.state.data.map(n => n[\"_id\"]);\n      this.setState({\n        selected: newSelecteds\n      });\n\n      return;\n    }\n    this.setState({\n      selected: []\n    });\n  };\n\n  handleClick = (event, name) => {\n    const selectedIndex = this.state.selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(this.state.selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(this.state.selected.slice(1));\n    } else if (selectedIndex === this.state.selected.length - 1) {\n      newSelected = newSelected.concat(this.state.selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        this.state.selected.slice(0, selectedIndex),\n        this.state.selected.slice(selectedIndex + 1)\n      );\n    }\n\n    this.setState({\n      selected: newSelected\n    });\n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setState({\n      page: newPage\n    });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({\n      rowsPerPage: parseInt(event.target.value, 10),\n      page: 0\n    });\n  };\n\n  handleAddNewPost = event => {\n    this.setState({\n      choice: 0\n    });\n  };\n\n  handleBackToManager = event => {\n    document.location.reload();\n  };\n\n  handleRemoveWill = event => {\n    this.setState({\n      open: true\n    });\n  };\n\n  handleDialogClose = event => {\n    this.setState({\n      open: false\n    });\n  };\n\n  handleDialogConfirm = event => {\n    event.preventDefault();\n    let myWills_ = sessionStorage.myWills\n      .split(\",\")\n      .filter(item => !this.state.selected.includes(item));\n\n    const newItem = {\n      email: this.userToken.email,\n      myWills: myWills_\n    };\n    updateMyListWills(newItem).then(res => {\n      if (res.status === 200) {\n        this.setState({\n          open: false,\n          openAlert: true,\n          mess: \"Vos éléments sélectionnés ont été supprimés !\"\n        });\n        sessionStorage.setItem(\"myWills\", myWills_);\n      } else {\n        const err = res.err ? res.err : \"Connexion au serveur a échoué !\";\n        this.setState({\n          open: false,\n          openAlert: true,\n          mess: err\n        });\n      }\n    });\n  };\n\n  handleAlertClose = event => {\n    document.location.reload();\n  };\n\n  handleDisplayWill = id => {\n    return function(e) {\n      window.location.href = getParamConfig(\"web_url\") + \"/will/\" + id;\n    };\n  };\n\n  handleCompareWill = event => {\n    window.location.href =\n      getParamConfig(\"web_url\") + \"/compare/\" + this.state.selected.join(\"+\");\n  };\n\n  componentDidMount() {\n    const newData =\n      sessionStorage.myWills.length > 0\n        ? getHitsFromQuery(\n            getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_wills\"),\n            JSON.stringify({\n              query: {\n                ids: {\n                  values: sessionStorage.myWills.split(\",\")\n                }\n              }\n            })\n          )\n        : [];\n    this.setState({\n      data: newData\n    });\n  }\n  render() {\n    const isSelected = name => this.state.selected.indexOf(name) !== -1;\n    const emptyRows =\n      this.state.rowsPerPage -\n      Math.min(\n        this.state.rowsPerPage,\n        this.state.data.length - this.state.page * this.state.rowsPerPage\n      );\n\n    const addButton = (\n      <Styled_2>\n        {({ classes }) => (\n          <Tooltip title=\"Ajouter un nouveau post\">\n            <IconButton onClick={this.handleAddNewPost} aria-label=\"add\">\n              <PostAddIcon className={classes.addBt} />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Styled_2>\n    );\n    const backButton = (\n      <Styled_2>\n        {({ classes }) => (\n          <Tooltip title=\"Retour dans gestion de contenu\">\n            <Button\n              variant=\"contained\"\n              onClick={this.handleBackToManager}\n              startIcon={<ArrowBackIcon />}\n              className={classes.backBt}\n            >\n              Gestion de contenu\n            </Button>\n          </Tooltip>\n        )}\n      </Styled_2>\n    );\n\n    const actionButton = (\n      <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\">\n        <Grid item>\n          <Tooltip title=\"Suppression de stestaments\">\n            <IconButton onClick={this.handleRemoveWill} aria-label=\"delete\">\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <Tooltip title=\"Export des testament\">\n            <IconButton onClick={this.handleExportWill} aria-label=\"export\">\n              <ExportIcon />\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <Tooltip title=\"Comparer des testaments\">\n            <IconButton onClick={this.handleCompareWill} aria-label=\"compare\">\n              <CompareIcon />\n            </IconButton>\n          </Tooltip>\n        </Grid>\n      </Grid>\n    );\n\n    const defaultView = (\n      <Styled_2>\n        {({ classes }) => (\n          <div className={classes.root}>\n            <Menu />\n\n            <Paper className={classes.paper}>\n              <EnhancedTableToolbar\n                numSelected={this.state.selected.length}\n                addButton={addButton}\n                actionButton={actionButton}\n              />\n              <div className={classes.tableWrapper}>\n                <Table\n                  className={classes.table}\n                  aria-labelledby=\"tableTitle\"\n                  size={\"medium\"}\n                  aria-label=\"enhanced table\"\n                >\n                  <EnhancedTableHead\n                    classes={classes}\n                    numSelected={this.state.selected.length}\n                    order={this.state.order}\n                    orderBy={this.state.orderBy}\n                    onSelectAllClick={this.handleSelectAllClick}\n                    onRequestSort={this.handleRequestSort}\n                    rowCount={this.state.data.length}\n                  />\n                  <TableBody>\n                    {stableSort(\n                      this.state.data,\n                      getSorting(this.state.order, this.state.orderBy)\n                    )\n                      .slice(\n                        this.state.page * this.state.rowsPerPage,\n                        this.state.page * this.state.rowsPerPage +\n                          this.state.rowsPerPage\n                      )\n                      .map((row, index) => {\n                        const isItemSelected = isSelected(row[\"_id\"]);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n\n                        return (\n                          <TableRow\n                            hover\n                            onClick={event =>\n                              this.handleClick(event, row[\"_id\"])\n                            }\n                            role=\"checkbox\"\n                            aria-checked={isItemSelected}\n                            tabIndex={-1}\n                            key={row[\"_id\"]}\n                            selected={isItemSelected}\n                          >\n                            <TableCell padding=\"checkbox\">\n                              <Checkbox\n                                checked={isItemSelected}\n                                inputProps={{ \"aria-labelledby\": labelId }}\n                              />\n                            </TableCell>\n                            <TableCell\n                              component=\"th\"\n                              id={labelId}\n                              scope=\"row\"\n                              padding=\"none\"\n                            >\n                              {row._source[\"will_identifier.name\"].replace(\n                                \"Testament de\",\n                                \"\"\n                              )}\n                            </TableCell>\n\n                            <TableCell align=\"center\">\n                              <Tooltip title=\"Afficher le testatement\">\n                                <IconButton\n                                  onClick={this.handleDisplayWill(row[\"_id\"])}\n                                  aria-label=\"display\"\n                                >\n                                  <VisibilityIcon />\n                                </IconButton>\n                              </Tooltip>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    {emptyRows > 0 && (\n                      <TableRow style={{ height: 53 * emptyRows }}>\n                        <TableCell colSpan={6} />\n                      </TableRow>\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25]}\n                component=\"div\"\n                count={this.state.data.length}\n                rowsPerPage={this.state.rowsPerPage}\n                page={this.state.page}\n                backIconButtonProps={{\n                  \"aria-label\": \"previous page\"\n                }}\n                nextIconButtonProps={{\n                  \"aria-label\": \"next page\"\n                }}\n                onChangePage={this.handleChangePage}\n                onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                labelRowsPerPage=\"Lignes par page :\"\n              />\n            </Paper>\n            <Dialog\n              open={this.state.open}\n              onClose={this.handleDialogClose}\n              aria-labelledby=\"draggable-dialog-title\"\n            >\n              <DialogTitle\n                style={{ cursor: \"move\" }}\n                id=\"draggable-dialog-title\"\n              >\n                Confirmation\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  Souhaitez-vous vraiment supprimer les{\" \"}\n                  {this.state.selected.length} éléments sélectionnés ?\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  autoFocus\n                  onClick={this.handleDialogClose}\n                  color=\"primary\"\n                >\n                  Annuler\n                </Button>\n                <Button onClick={this.handleDialogConfirm} color=\"primary\">\n                  Supprimer\n                </Button>\n              </DialogActions>\n            </Dialog>\n            <AlertMessage\n              message={this.state.mess}\n              openAlert={this.state.openAlert}\n              handleClose={this.handleAlertClose}\n            />\n          </div>\n        )}\n      </Styled_2>\n    );\n\n    switch (this.state.choice) {\n      case 0:\n        this.curView = (\n          <NewPost backButton={backButton} alertMessage={AlertMessage} />\n        );\n        break;\n      case 1:\n        this.curView = (\n          <EditPost\n            backButton={backButton}\n            alertMessage={AlertMessage}\n            data={this.state.editData}\n          />\n        );\n        break;\n      case 2:\n        this.curView = defaultView;\n        break;\n      default:\n        this.curView = defaultView;\n        break;\n    }\n    return this.curView;\n  }\n}\n","import React, { Component } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { getParamConfig, getUserToken } from \"../../utils/functions\";\nimport Manage from \"../cms/Manage\";\nimport Profile from \"./Profile\";\nimport { Paper, MenuList, MenuItem, Link } from \"@material-ui/core\";\nimport { createStyled } from \"../../utils/functions\";\nimport classNames from \"classnames\";\nimport MyShoppingCart from \"../cms/MyShoppingCart\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Menu from \"../cms/Menu\";\nconst Styled = createStyled(theme => ({\n  root: {\n    width: \"100%\",\n    marginTop: theme.spacing(2)\n  },\n  menu: {\n    display: \"flex\"\n  },\n\n  link: {\n    textTransform: \"none\",\n    paddingLeft: 15,\n    color: \"#212121\",\n    fontSize: 18,\n    fontWeight: 500,\n    fontFamily: \"-apple-system\",\n    \"&:hover, &:focus\": {\n      color: \"#0091EA\",\n      fontWeight: 600,\n      backgroundColor: \"#eceff1\"\n    },\n    \"&:active\": {\n      color: \"#0091EA\",\n      fontWeight: 600\n    }\n  },\n  activedLink: {\n    color: \"#0091EA\",\n    fontWeight: 600\n  }\n}));\n\nclass MySpace extends Component {\n  render() {\n    return <Profile />;\n  }\n}\n\nexport default MySpace;\n","import React, { Component } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Paper, Breadcrumbs, Link, Typography } from \"@material-ui/core\";\nimport \"../styles/Wills.css\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport { getParamConfig, getHitsFromQuery } from \"../utils/functions\";\nimport WillCompare from \"./WillCompare\";\n\nclass Compare extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      ids_term: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const url = document.location.href;\n    const idx = url.lastIndexOf(\"compare/\");\n    if (idx !== -1) {\n      const ids_term_ = url.substring(idx + 8);\n      if (ids_term_.length > 0) {\n        const ids = ids_term_.split(\"+\");\n        const newData = getHitsFromQuery(\n          getParamConfig(\"es_host\") + \"/\" + getParamConfig(\"es_index_wills\"),\n          JSON.stringify({\n            query: {\n              ids: {\n                values: ids\n              }\n            }\n          })\n        );\n        const dataFilter = newData.map(will => {\n          return {\n            will: will._source[\"will_pages\"],\n            id: will[\"_id\"],\n            name: will._source[\"testator_name\"]\n          };\n        });\n        console.log(\"dataFilter :\", dataFilter);\n        this.setState({\n          data: dataFilter,\n          ids_term: ids_term_\n        });\n      }\n    }\n  }\n\n  render() {\n    const prevLink = document.referrer.includes(\"search?\")\n      ? \"/search?\" + document.referrer.split(\"?\")[1]\n      : \"/search\";\n\n    const will_link =\n      this.state.ids_term !== \"\" ? (\n        <Typography color=\"textPrimary\" key={2}>\n          {this.state.ids_term}\n        </Typography>\n      ) : null;\n\n    return (\n      <div>\n        <div className=\"wills_menu\">\n          <Paper elevation={0}>\n            <Breadcrumbs\n              separator={<NavigateNextIcon fontSize=\"small\" />}\n              aria-label=\"Breadcrumb\"\n            >\n              <Link\n                id=\"search\"\n                key={0}\n                color=\"inherit\"\n                component={RouterLink}\n                to={prevLink}\n              >\n                {\" \"}\n                Recherche{\" \"}\n              </Link>\n              {will_link}\n            </Breadcrumbs>\n          </Paper>\n        </div>\n\n        <div>\n          {this.state.data.length > 0 ? (\n            <WillCompare data={this.state.data} />\n          ) : (\n            <h3>Pas de testaments à comparer</h3>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Compare;\n","import React from \"react\";\nimport \"./styles/App.css\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Navbar from \"./components/NavBar\";\nimport Search from \"./components/Search\";\nimport About from \"./components/About\";\nimport News from \"./components/News\";\nimport Wills from \"./components/Wills\";\nimport Profile from \"./components/admin/Profile\";\nimport Testators from \"./components/Testators\";\nimport Places from \"./components/Places\";\nimport Will from \"./components/Will\";\nimport Home from \"./components/Home\";\nimport Articles from \"./components/Articles\";\nimport LogRegister from \"./components/admin/LogRegister\";\nimport MySpace from \"./components/admin/MySpace\";\nimport MyShoppingCart from \"./components/cms/MyShoppingCart\";\nimport Manage from \"./components/cms/Manage\";\nimport Compare from \"./components/Compare\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/testaments-de-poilus\">\n      <div className=\"App\">\n        <Navbar />\n        <Route exact path=\"/\" component={Search} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route path=\"/news\" component={News} />\n        <Route path=\"/articles\" component={Articles} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"/wills\" component={Wills} />\n        <Route exact path=\"/testators\" component={Testators} />\n        <Route exact path=\"/places\" component={Places} />\n        <Route path=\"/will\" component={Will} />\n        <Route path=\"/home\" component={Home} />\n        <Route exact path=\"/login\" component={LogRegister} />\n        <Route exact path=\"/espace\" component={MySpace} />\n        <Route exact path=\"/espace/profile\" component={Profile} />\n        <Route exact path=\"/espace/panier\" component={MyShoppingCart} />\n        <Route exact path=\"/espace/cms\" component={Manage} />\n        <Route path=\"/compare\" component={Compare} />\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}